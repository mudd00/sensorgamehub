# ğŸ® Sensor Game Hub v6.0 í”„ë¡œì íŠ¸ ì„¤ê³„ ëª…ì„¸ì„œ

> **AI ê¸°ë°˜ ëª¨ë°”ì¼ ì„¼ì„œ ê²Œì„ ìƒì„± ë° í”Œë ˆì´ í”Œë«í¼**
> **ì‘ì„±ì¼**: 2025ë…„ 10ì›” 9ì¼
> **ë²„ì „**: 6.0.0
> **ì‘ì„±ì**: Sensor Game Hub Team

---

## ğŸ“‘ ëª©ì°¨

### [1ë¶€. í”„ë¡œì íŠ¸ ê°œìš”](#1ë¶€-í”„ë¡œì íŠ¸-ê°œìš”)
- [1.1 í”„ë¡œì íŠ¸ ë°°ê²½ ë° ëª©ì ](#11-í”„ë¡œì íŠ¸-ë°°ê²½-ë°-ëª©ì )
- [1.2 í•µì‹¬ ê°€ì¹˜ ì œì•ˆ](#12-í•µì‹¬-ê°€ì¹˜-ì œì•ˆ)
- [1.3 íƒ€ê²Ÿ ì‚¬ìš©ì](#13-íƒ€ê²Ÿ-ì‚¬ìš©ì)
- [1.4 ì‹œìŠ¤í…œ ê°œìš”](#14-ì‹œìŠ¤í…œ-ê°œìš”)

### [2ë¶€. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#2ë¶€-ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
- [2.1 ì „ì²´ ì‹œìŠ¤í…œ êµ¬ì¡°](#21-ì „ì²´-ì‹œìŠ¤í…œ-êµ¬ì¡°)
- [2.2 í•µì‹¬ ëª¨ë“ˆ ì„¤ê³„](#22-í•µì‹¬-ëª¨ë“ˆ-ì„¤ê³„)
- [2.3 ê°œë°œì ê³„ì • ì‹œìŠ¤í…œ](#23-ê°œë°œì-ê³„ì •-ì‹œìŠ¤í…œ)
- [2.4 ì‹¤ì‹œê°„ í†µì‹  êµ¬ì¡°](#24-ì‹¤ì‹œê°„-í†µì‹ -êµ¬ì¡°)
- [2.5 ë°ì´í„° íë¦„](#25-ë°ì´í„°-íë¦„)

### [3ë¶€. ê¸°ìˆ  ëª…ì„¸](#3ë¶€-ê¸°ìˆ -ëª…ì„¸)
- [3.1 AI ê²Œì„ ìƒì„± ì‹œìŠ¤í…œ](#31-ai-ê²Œì„-ìƒì„±-ì‹œìŠ¤í…œ)
- [3.2 ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„](#32-ë°ì´í„°ë² ì´ìŠ¤-ì„¤ê³„)
- [3.3 ì„¼ì„œ ì‹œìŠ¤í…œ](#33-ì„¼ì„œ-ì‹œìŠ¤í…œ)
- [3.4 ê¸°ìˆ  ìŠ¤íƒ](#34-ê¸°ìˆ -ìŠ¤íƒ)

### [4ë¶€. ì£¼ìš” ê¸°ëŠ¥ ìƒì„¸](#4ë¶€-ì£¼ìš”-ê¸°ëŠ¥-ìƒì„¸)
- [4.1 ê²Œì„ ìƒì„± í”Œë¡œìš°](#41-ê²Œì„-ìƒì„±-í”Œë¡œìš°)
- [4.2 ê²Œì„ í”Œë ˆì´ í”Œë¡œìš°](#42-ê²Œì„-í”Œë ˆì´-í”Œë¡œìš°)
- [4.3 ìœ ì§€ë³´ìˆ˜ ì‹œìŠ¤í…œ](#43-ìœ ì§€ë³´ìˆ˜-ì‹œìŠ¤í…œ)

### [5ë¶€. êµ¬í˜„ ë° ì„±ê³¼](#5ë¶€-êµ¬í˜„-ë°-ì„±ê³¼)
- [5.1 ê°œë°œ í™˜ê²½](#51-ê°œë°œ-í™˜ê²½)
- [5.2 í”„ë¡œì íŠ¸ êµ¬ì¡°](#52-í”„ë¡œì íŠ¸-êµ¬ì¡°)
- [5.3 ì„±ëŠ¥ ì§€í‘œ](#53-ì„±ëŠ¥-ì§€í‘œ)
- [5.4 í–¥í›„ ê³„íš](#54-í–¥í›„-ê³„íš)

---

# 1ë¶€. í”„ë¡œì íŠ¸ ê°œìš”

## 1.1 í”„ë¡œì íŠ¸ ë°°ê²½ ë° ëª©ì 

### ë°°ê²½

í˜„ëŒ€ ëª¨ë°”ì¼ ê¸°ê¸°ëŠ” ë‹¤ì–‘í•œ ì„¼ì„œ(ê°€ì†ë„ê³„, ìì´ë¡œìŠ¤ì½”í”„, ë°©í–¥ ì„¼ì„œ)ë¥¼ íƒ‘ì¬í•˜ê³  ìˆì§€ë§Œ, ì´ë¥¼ í™œìš©í•œ ê²Œì„ ê°œë°œì€ ë‹¤ìŒê³¼ ê°™ì€ ì¥ë²½ì´ ì¡´ì¬í•©ë‹ˆë‹¤:

1. **ë†’ì€ ì§„ì… ì¥ë²½**: ì„¼ì„œ API ì´í•´ ë° ì‹¤ì‹œê°„ í†µì‹  êµ¬í˜„ ë³µì¡ì„±
2. **í”Œë«í¼ íŒŒí¸í™”**: iOS/Android ê°„ ì„¼ì„œ ë™ì‘ ì°¨ì´
3. **ê°œë°œ ì‹œê°„**: ì™„ì„±ë„ ìˆëŠ” ì„¼ì„œ ê²Œì„ ê°œë°œì— ìˆ˜ì£¼~ìˆ˜ê°œì›” ì†Œìš”
4. **í…ŒìŠ¤íŠ¸ ì–´ë ¤ì›€**: ì‹¤ì œ ëª¨ë°”ì¼ ê¸°ê¸°ì—ì„œë§Œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥

### ëª©ì 

**Sensor Game Hub v6.0**ì€ ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ **AI ê¸°ë°˜ ìë™ ê²Œì„ ìƒì„± í”Œë«í¼**ì…ë‹ˆë‹¤:

- âœ… **ìì—°ì–´ë¡œ ê²Œì„ ìƒì„±**: ì•„ì´ë””ì–´ë§Œ ì…ë ¥í•˜ë©´ AIê°€ ì™„ì„±ëœ ê²Œì„ ì½”ë“œ ìƒì„±
- âœ… **ì¦‰ì‹œ í”Œë ˆì´ ê°€ëŠ¥**: QR ì½”ë“œë¡œ ëª¨ë°”ì¼ ì—°ê²°, ì„¸íŒ… ì—†ì´ ë°”ë¡œ í”Œë ˆì´
- âœ… **ìœ ì§€ë³´ìˆ˜ ìë™í™”**: ë²„ê·¸ ë¦¬í¬íŠ¸ ì‹œ AIê°€ ìë™ìœ¼ë¡œ ìˆ˜ì • ë° ë°°í¬
- âœ… **êµìœ¡ ë° í”„ë¡œí† íƒ€ì´í•‘**: ê²Œì„ ê°œë°œ í•™ìŠµ, ë¹ ë¥¸ ì•„ì´ë””ì–´ ê²€ì¦

## 1.2 í•µì‹¬ ê°€ì¹˜ ì œì•ˆ

```mermaid
graph TB
    A[ì‚¬ìš©ì ì•„ì´ë””ì–´] -->|ìì—°ì–´ ì…ë ¥| B[AI ê²Œì„ ìƒì„±ê¸°]
    B -->|30-60ì´ˆ| C[ì™„ì„±ëœ ê²Œì„]
    C -->|QR ì½”ë“œ ìŠ¤ìº”| D[ì¦‰ì‹œ í”Œë ˆì´]
    D -->|ë²„ê·¸ ë°œê²¬| E[AI ìœ ì§€ë³´ìˆ˜]
    E -->|ìë™ ìˆ˜ì •| C

    style A fill:#3b82f6,color:#fff
    style B fill:#8b5cf6,color:#fff
    style C fill:#10b981,color:#fff
    style D fill:#f59e0b,color:#fff
    style E fill:#ef4444,color:#fff
```

### 3ê°€ì§€ í•µì‹¬ ê°€ì¹˜

| ê°€ì¹˜ | ê¸°ì¡´ ë°©ì‹ | Sensor Game Hub |
|------|----------|-----------------|
| **ìƒì„± ì†ë„** | ìˆ˜ì£¼~ìˆ˜ê°œì›” | **30-60ì´ˆ** |
| **ê¸°ìˆ  ìš”êµ¬** | ì›¹/ëª¨ë°”ì¼ ê°œë°œ ì „ë¬¸ ì§€ì‹ | **ìì—°ì–´ë§Œ ì…ë ¥** |
| **ìœ ì§€ë³´ìˆ˜** | ìˆ˜ë™ ì½”ë“œ ìˆ˜ì • | **AI ìë™ ìˆ˜ì •** |

## 1.3 íƒ€ê²Ÿ ì‚¬ìš©ì

```mermaid
graph LR
    A[íƒ€ê²Ÿ ì‚¬ìš©ì] --> B[ê²Œì„ ê°œë°œì]
    A --> C[êµìœ¡ì/í•™ìƒ]
    A --> D[ì¼ë°˜ ì‚¬ìš©ì]

    B --> B1[í”„ë¡œí† íƒ€ì… ê²€ì¦]
    B --> B2[ì„¼ì„œ ê²Œì„ í•™ìŠµ]

    C --> C1[ì½”ë”© êµìœ¡]
    C --> C2[ê²Œì„ ë””ìì¸ ìˆ˜ì—…]

    D --> D1[ì°½ì˜ì  ì•„ì´ë””ì–´ êµ¬í˜„]
    D --> D2[ì»¤ìŠ¤í…€ ê²Œì„ ì œì‘]

    style A fill:#3b82f6,color:#fff
    style B fill:#10b981,color:#fff
    style C fill:#f59e0b,color:#fff
    style D fill:#8b5cf6,color:#fff
```

### ì‚¬ìš©ì í˜ë¥´ì†Œë‚˜

#### 1. ê²Œì„ ê°œë°œì (í”„ë¡œí† íƒ€ì´í¼)
- **ë‹ˆì¦ˆ**: ì„¼ì„œ ê²Œì„ ì•„ì´ë””ì–´ë¥¼ ë¹ ë¥´ê²Œ ê²€ì¦
- **í™œìš©**: í”„ë¡œí† íƒ€ì… ì œì‘ â†’ í…ŒìŠ¤íŠ¸ â†’ í”¼ë“œë°± ìˆ˜ì§‘

#### 2. êµìœ¡ì/í•™ìƒ (ëŸ¬ë„ˆ)
- **ë‹ˆì¦ˆ**: ê²Œì„ ê°œë°œ í•™ìŠµ, ì½”ë“œ ì´í•´
- **í™œìš©**: ìƒì„±ëœ ì½”ë“œ ë¶„ì„, ìˆ˜ì • ì‹¤í—˜

#### 3. ì¼ë°˜ ì‚¬ìš©ì (í¬ë¦¬ì—ì´í„°)
- **ë‹ˆì¦ˆ**: ìì‹ ë§Œì˜ ê²Œì„ ë§Œë“¤ê¸°
- **í™œìš©**: ì•„ì´ë””ì–´ ì…ë ¥ â†’ ì¦‰ì‹œ í”Œë ˆì´ â†’ ì¹œêµ¬ì™€ ê³µìœ 

## 1.4 ì‹œìŠ¤í…œ ê°œìš”

### ì „ì²´ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```mermaid
graph TB
    subgraph "í´ë¼ì´ì–¸íŠ¸ (Browser)"
        A1[ëœë”© í˜ì´ì§€]
        A2[ê²Œì„ í™”ë©´ PC]
        A3[ì„¼ì„œ í´ë¼ì´ì–¸íŠ¸ Mobile]
        A4[ê°œë°œì ì„¼í„°]
    end

    subgraph "ì„œë²„ (Node.js + Express)"
        B1[GameServer]
        B2[SessionManager]
        B3[InteractiveGameGenerator]
        B4[GameMaintenanceManager]
        B5[WebSocket Server]
    end

    subgraph "AI Layer"
        C1[Claude Sonnet 4.5]
        C2[RAG System]
        C3[OpenAI Embeddings]
    end

    subgraph "Database (Supabase)"
        D1[Vector Store]
        D2[Game Knowledge]
    end

    A1 -->|HTTP| B1
    A2 <-->|WebSocket| B5
    A3 <-->|WebSocket| B5
    A4 -->|HTTP/WS| B1

    B1 --> B2
    B1 --> B3
    B1 --> B4
    B1 --> B5

    B3 <-->|API Call| C1
    B3 --> C2
    C2 --> C3
    C2 <-->|Vector Search| D1
    D1 --> D2

    style A1 fill:#3b82f6,color:#fff
    style A2 fill:#3b82f6,color:#fff
    style A3 fill:#3b82f6,color:#fff
    style A4 fill:#3b82f6,color:#fff
    style B3 fill:#8b5cf6,color:#fff
    style C1 fill:#10b981,color:#fff
    style D1 fill:#f59e0b,color:#fff
```

### ì£¼ìš” ê¸°ëŠ¥ ìš”ì•½

| ê¸°ëŠ¥ | ì„¤ëª… | êµ¬í˜„ ëª¨ë“ˆ |
|------|------|-----------|
| **AI ê²Œì„ ìƒì„±** | ìì—°ì–´ â†’ ì™„ì„±ëœ ê²Œì„ ì½”ë“œ | InteractiveGameGenerator |
| **ì‹¤ì‹œê°„ í”Œë ˆì´** | WebSocket ê¸°ë°˜ ì„¼ì„œ í†µì‹  | SessionManager + Socket.IO |
| **QR ì½”ë“œ ì—°ê²°** | ëª¨ë°”ì¼ ì¦‰ì‹œ ì—°ê²° | SessionSDK |
| **AI ìœ ì§€ë³´ìˆ˜** | ë²„ê·¸ ìë™ ìˆ˜ì • | GameMaintenanceManager |
| **RAG ê²€ìƒ‰** | 400ê°œ ë¬¸ì„œì—ì„œ ê´€ë ¨ ì§€ì‹ ê²€ìƒ‰ | Supabase Vector Store |

---

# 2ë¶€. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

## 2.1 ì „ì²´ ì‹œìŠ¤í…œ êµ¬ì¡°

### ë ˆì´ì–´ êµ¬ì¡°

```mermaid
graph TB
    subgraph "Presentation Layer"
        P1[Landing Page]
        P2[Game UI PC]
        P3[Sensor Controller Mobile]
        P4[Developer Center]
    end

    subgraph "Application Layer"
        A1[Express Routes]
        A2[WebSocket Handlers]
        A3[Session Management]
    end

    subgraph "Business Logic Layer"
        B1[Game Generator]
        B2[Game Validator]
        B3[Maintenance Manager]
        B4[Performance Monitor]
    end

    subgraph "AI Integration Layer"
        C1[Claude API Client]
        C2[RAG Pipeline]
        C3[Vector Search]
    end

    subgraph "Data Layer"
        D1[File System Games]
        D2[Supabase Vector DB]
        D3[Session Memory Store]
    end

    P1 --> A1
    P2 --> A2
    P3 --> A2
    P4 --> A1

    A1 --> B1
    A1 --> B3
    A2 --> A3
    A3 --> B1

    B1 --> C1
    B1 --> C2
    C2 --> C3

    B1 --> D1
    B3 --> D1
    C3 --> D2
    A3 --> D3

    style P1 fill:#3b82f6,color:#fff
    style P2 fill:#3b82f6,color:#fff
    style P3 fill:#3b82f6,color:#fff
    style P4 fill:#3b82f6,color:#fff
    style B1 fill:#8b5cf6,color:#fff
    style C1 fill:#10b981,color:#fff
    style D2 fill:#f59e0b,color:#fff
```

### í´ë¼ì´ì–¸íŠ¸-ì„œë²„ í†µì‹  í”„ë¡œí† ì½œ

```mermaid
sequenceDiagram
    participant PC as ê²Œì„ í™”ë©´ (PC)
    participant Server as WebSocket ì„œë²„
    participant Mobile as ì„¼ì„œ í´ë¼ì´ì–¸íŠ¸ (ëª¨ë°”ì¼)

    PC->>Server: create-session (ê²Œì„ íƒ€ì…)
    Server->>PC: session-created (ì„¸ì…˜ ì½”ë“œ: 1234)
    PC->>PC: QR ì½”ë“œ í‘œì‹œ

    Mobile->>Mobile: QR ì½”ë“œ ìŠ¤ìº”
    Mobile->>Server: connect-sensor (ì½”ë“œ: 1234)
    Server->>Mobile: sensor-connected âœ…
    Server->>PC: sensor-connected (ì„¼ì„œ 1 ì—°ê²°ë¨)

    Mobile->>Server: sensor-data (50ms ê°„ê²©)
    Server->>PC: sensor-data (orientation, acceleration)
    PC->>PC: ê²Œì„ ë¡œì§ ì²˜ë¦¬ + ë Œë”ë§

    PC->>Server: game-state-update (ì ìˆ˜, ë ˆë²¨)
    Server->>Mobile: game-state-update
    Mobile->>Mobile: UI ì—…ë°ì´íŠ¸

    Note over PC,Mobile: ì‹¤ì‹œê°„ ì–‘ë°©í–¥ í†µì‹  (50ms ì£¼ê¸°)
```

## 2.2 í•µì‹¬ ëª¨ë“ˆ ì„¤ê³„

### 2.2.1 SessionManager (ì„¸ì…˜ ê´€ë¦¬ ì‹œìŠ¤í…œ)

**ì—­í• **: ê²Œì„ ì„¸ì…˜ ìƒì„±, ì„¼ì„œ ì—°ê²° ë§¤ì¹­, ì‹¤ì‹œê°„ ìƒíƒœ ê´€ë¦¬

```mermaid
classDiagram
    class SessionManager {
        -Map sessions
        -Map sensorConnections
        +createSession(gameId, gameType) Session
        +connectSensor(sessionCode, sensorId) boolean
        +getSensorData(sessionCode) SensorData
        +cleanupInactiveSessions() void
    }

    class Session {
        +String sessionCode
        +String gameId
        +String gameType
        +Array sensors
        +Date createdAt
        +boolean isActive
    }

    class SensorConnection {
        +String sensorId
        +String sessionCode
        +WebSocket socket
        +SensorData lastData
    }

    SessionManager "1" --> "*" Session
    Session "1" --> "*" SensorConnection
```

**ì£¼ìš” ì•Œê³ ë¦¬ì¦˜**:

```javascript
// 4ìë¦¬ ê³ ìœ  ì„¸ì…˜ ì½”ë“œ ìƒì„± (ì¶©ëŒ ë°©ì§€)
generateSessionCode() {
    let code;
    do {
        code = Math.floor(1000 + Math.random() * 9000).toString();
    } while (this.sessions.has(code));
    return code;
}

// ë¹„í™œì„± ì„¸ì…˜ ìë™ ì •ë¦¬ (30ë¶„ ì´ˆê³¼)
cleanupInactiveSessions() {
    const now = Date.now();
    const timeout = 30 * 60 * 1000; // 30ë¶„

    for (const [code, session] of this.sessions.entries()) {
        if (now - session.lastActivityAt > timeout) {
            this.deleteSession(code);
        }
    }
}
```

### 2.2.2 InteractiveGameGenerator (AI ê²Œì„ ìƒì„±ê¸°)

**ì—­í• **: ëŒ€í™”í˜• ìš”êµ¬ì‚¬í•­ ìˆ˜ì§‘ â†’ Claude API í˜¸ì¶œ â†’ ê²Œì„ ì½”ë“œ ìƒì„±

```mermaid
stateDiagram-v2
    [*] --> Initial: ì„¸ì…˜ ì‹œì‘
    Initial --> Details: ì‚¬ìš©ì ì•„ì´ë””ì–´ ì…ë ¥
    Details --> Mechanics: ì¥ë¥´/í…Œë§ˆ ê²°ì •
    Mechanics --> Confirmation: ì„¼ì„œ ì¡°ì‘ ë°©ì‹ ì •ì˜
    Confirmation --> Generating: ìµœì¢… ìš”êµ¬ì‚¬í•­ í™•ì¸

    Generating --> Stage1: RAG ë¬¸ì„œ ê²€ìƒ‰
    Stage1 --> Stage2: Claude API í˜¸ì¶œ
    Stage2 --> Stage3: ì½”ë“œ ìƒì„±
    Stage3 --> Stage4: ì½”ë“œ ê²€ì¦
    Stage4 --> Stage5: íŒŒì¼ ì €ì¥

    Stage5 --> [*]: ê²Œì„ ìƒì„± ì™„ë£Œ

    Stage4 --> Stage2: ê²€ì¦ ì‹¤íŒ¨ (ì¬ì‹œë„)

    note right of Generating
        5ë‹¨ê³„ ì‹¤ì‹œê°„ ì§„í–‰ë¥  í‘œì‹œ
        WebSocket ì´ë²¤íŠ¸ ì „ì†¡
    end note
```

**5ë‹¨ê³„ ìƒì„± í”„ë¡œì„¸ìŠ¤**:

| ë‹¨ê³„ | ì§„í–‰ë¥  | ì‘ì—… | ì†Œìš” ì‹œê°„ |
|------|--------|------|-----------|
| 1 | 0-20% | ê²Œì„ ì•„ì´ë””ì–´ ë¶„ì„ | 5ì´ˆ |
| 2 | 20-40% | RAG ì‹œìŠ¤í…œ ë¬¸ì„œ ê²€ìƒ‰ (Vector DB) | 10ì´ˆ |
| 3 | 40-80% | Claude Sonnet 4.5 ì½”ë“œ ìƒì„± | 20-40ì´ˆ |
| 4 | 80-90% | ì½”ë“œ ê²€ì¦ (95ì  ì´ìƒ) | 5ì´ˆ |
| 5 | 90-100% | íŒŒì¼ ì €ì¥ ë° ê²Œì„ ë“±ë¡ | 3ì´ˆ |

### 2.2.3 GameMaintenanceManager (ìœ ì§€ë³´ìˆ˜ ì‹œìŠ¤í…œ)

**ì—­í• **: ê²Œì„ ìƒì„± í›„ ë²„ê·¸ ìˆ˜ì • ë° ê¸°ëŠ¥ ì¶”ê°€

```mermaid
graph TB
    A[ì‚¬ìš©ì ë²„ê·¸ ë¦¬í¬íŠ¸] -->|bugDescription| B[ë²„ê·¸ ë¶„ì„ AI]
    B -->|í˜„ì¬ ì½”ë“œ ì½ê¸°| C{ì„¸ì…˜ ì¡´ì¬?}
    C -->|No| D[ê¸°ì¡´ ê²Œì„ì—ì„œ ì„¸ì…˜ ìƒì„±]
    C -->|Yes| E[ì„¸ì…˜ ì •ë³´ ë¡œë“œ]
    D --> E

    E --> F[Claude API: ë²„ê·¸ ë¶„ì„]
    F --> G[ìˆ˜ì •ëœ ì½”ë“œ ìƒì„±]
    G --> H{ê²€ì¦ í†µê³¼?}
    H -->|No| I{ì¬ì‹œë„ < 3íšŒ?}
    I -->|Yes| F
    I -->|No| J[ìˆ˜ì • ì‹¤íŒ¨ ì‘ë‹µ]

    H -->|Yes| K[ë°±ì—… ìƒì„±]
    K --> L[index.html ë®ì–´ì“°ê¸°]
    L --> M[ë²„ì „ ì¦ê°€ v1.0 â†’ v1.1]
    M --> N[ìˆ˜ì • ì´ë ¥ ê¸°ë¡]
    N --> O[âœ… ìˆ˜ì • ì™„ë£Œ ì‘ë‹µ]

    style A fill:#ef4444,color:#fff
    style F fill:#8b5cf6,color:#fff
    style O fill:#10b981,color:#fff
```

**ìë™ ë°±ì—… ì‹œìŠ¤í…œ**:

```javascript
// ìˆ˜ì • ì „ ìë™ ë°±ì—…
async createBackup(gameId) {
    const timestamp = Date.now();
    const backupPath = `${gameId}/backups/${timestamp}_index.html`;
    await fs.copyFile(
        `${gameId}/index.html`,
        backupPath
    );
}

// ë²„ì „ ê´€ë¦¬
incrementVersion(currentVersion) {
    const [major, minor] = currentVersion.split('.');
    return `${major}.${parseInt(minor) + 1}`;
}
```

## 2.3 ì‹¤ì‹œê°„ í†µì‹  êµ¬ì¡°

### WebSocket ì´ë²¤íŠ¸ í”Œë¡œìš°

```mermaid
sequenceDiagram
    participant Game as ê²Œì„ í™”ë©´
    participant WS as WebSocket ì„œë²„
    participant SM as SessionManager
    participant Sensor as ì„¼ì„œ í´ë¼ì´ì–¸íŠ¸

    Game->>WS: emit('create-session', {gameId, gameType})
    WS->>SM: createSession()
    SM->>SM: generateSessionCode() â†’ "1234"
    SM->>WS: {sessionCode, qrUrl}
    WS->>Game: emit('session-created', {...})
    Game->>Game: QR ì½”ë“œ í‘œì‹œ

    Sensor->>WS: emit('connect-sensor', {sessionCode: "1234"})
    WS->>SM: connectSensor()
    SM->>SM: ì„¸ì…˜ ê²€ì¦ + ì„¼ì„œ ë“±ë¡
    SM->>WS: {success: true}
    WS->>Sensor: emit('sensor-connected')
    WS->>Game: emit('sensor-connected', {sensorId})

    loop Every 50ms
        Sensor->>WS: emit('sensor-data', {orientation, acceleration})
        WS->>Game: emit('sensor-data', {...})
        Game->>Game: update() + render()
    end

    Game->>WS: emit('game-over', {score})
    WS->>Sensor: emit('game-over', {score})
```

### ì„¼ì„œ ë°ì´í„° êµ¬ì¡°

```mermaid
classDiagram
    class SensorData {
        +String sensorId
        +String gameType
        +SensorReading data
        +Number timestamp
    }

    class SensorReading {
        +Orientation orientation
        +Acceleration acceleration
        +RotationRate rotationRate
    }

    class Orientation {
        +Number alpha (0-360Â°)
        +Number beta (-180~180Â°)
        +Number gamma (-90~90Â°)
    }

    class Acceleration {
        +Number x (ì¢Œìš°)
        +Number y (ìƒí•˜)
        +Number z (ì•ë’¤)
    }

    class RotationRate {
        +Number alpha (Zì¶•)
        +Number beta (Xì¶•)
        +Number gamma (Yì¶•)
    }

    SensorData --> SensorReading
    SensorReading --> Orientation
    SensorReading --> Acceleration
    SensorReading --> RotationRate
```

**ì‹¤ì œ ë°ì´í„° ì˜ˆì‹œ**:

```json
{
  "sensorId": "sensor1",
  "gameType": "solo",
  "data": {
    "orientation": {
      "alpha": 45.2,
      "beta": 12.8,
      "gamma": -5.3
    },
    "acceleration": {
      "x": 0.15,
      "y": -9.81,
      "z": 0.22
    },
    "rotationRate": {
      "alpha": 0.1,
      "beta": -0.3,
      "gamma": 0.05
    }
  },
  "timestamp": 1696820400000
}
```

## 2.3 ê°œë°œì ê³„ì • ì‹œìŠ¤í…œ

### 2.3.1 ì‹œìŠ¤í…œ ê°œìš”

**ê°œë°œì ê³„ì • ì‹œìŠ¤í…œ**ì€ ì‚¬ìš©ìê°€ ìì‹ ì´ ìƒì„±í•œ ê²Œì„ì„ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê³  ì§€ì†ì ìœ¼ë¡œ ê°œì„ í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•˜ëŠ” í•µì‹¬ ê¸°ëŠ¥ì…ë‹ˆë‹¤.

```mermaid
graph TB
    subgraph "ê°œë°œì ëŒ€ì‹œë³´ë“œ"
        A[ë¡œê·¸ì¸/íšŒì›ê°€ì…]
        B[ë‚´ ê²Œì„ ëª©ë¡]
        C[ê²Œì„ ìƒì„¸ ê´€ë¦¬]
    end

    subgraph "ê²Œì„ ê´€ë¦¬ ê¸°ëŠ¥"
        D1[ë²„ê·¸ ì‹ ê³  ì²˜ë¦¬]
        D2[ê¸°ëŠ¥ ì¶”ê°€ ìš”ì²­]
        D3[ë²„ì „ ì´ë ¥ ì¡°íšŒ]
        D4[ê²Œì„ ì‚­ì œ/ê³µìœ ]
    end

    subgraph "ìë™í™”ëœ ìœ ì§€ë³´ìˆ˜"
        E1[AI ë²„ê·¸ ë¶„ì„]
        E2[ì½”ë“œ ìë™ ìˆ˜ì •]
        E3[ë°±ì—… ê´€ë¦¬]
        E4[ë°°í¬ ìë™í™”]
    end

    A --> B
    B --> C
    C --> D1
    C --> D2
    C --> D3
    C --> D4

    D1 --> E1
    D2 --> E1
    E1 --> E2
    E2 --> E3
    E3 --> E4

    style A fill:#3b82f6,color:#fff
    style C fill:#8b5cf6,color:#fff
    style E2 fill:#10b981,color:#fff
```

### 2.3.2 í•µì‹¬ ê¸°ëŠ¥

#### 1. ê³„ì • ê´€ë¦¬

```mermaid
sequenceDiagram
    participant User as ê°œë°œì
    participant Auth as ì¸ì¦ ì‹œìŠ¤í…œ
    participant DB as Supabase DB
    participant Dashboard as ëŒ€ì‹œë³´ë“œ

    User->>Auth: íšŒì›ê°€ì…/ë¡œê·¸ì¸
    Auth->>DB: ì‚¬ìš©ì ì •ë³´ ì €ì¥/ì¡°íšŒ
    DB->>Auth: ì¸ì¦ í† í° ë°œê¸‰
    Auth->>User: ë¡œê·¸ì¸ ì„±ê³µ

    User->>Dashboard: ëŒ€ì‹œë³´ë“œ ì ‘ì†
    Dashboard->>DB: ì‚¬ìš©ì ê²Œì„ ëª©ë¡ ì¡°íšŒ
    DB->>Dashboard: ê²Œì„ ë©”íƒ€ë°ì´í„° ë°˜í™˜
    Dashboard->>User: ë‚´ ê²Œì„ ëª©ë¡ í‘œì‹œ
```

**ê³„ì • ë°ì´í„° êµ¬ì¡°**:

```javascript
// Supabase developers í…Œì´ë¸”
{
    id: "uuid",
    email: "developer@example.com",
    display_name: "ê²Œì„ í¬ë¦¬ì—ì´í„°",
    created_at: "2025-01-01T00:00:00Z",
    total_games: 15,
    total_plays: 2340,
    avatar_url: "https://...",
    verified: true
}
```

#### 2. ê²Œì„ ì†Œìœ ê¶Œ ê´€ë¦¬

```mermaid
erDiagram
    DEVELOPER {
        uuid id PK
        string email
        string display_name
        timestamp created_at
        int total_games
        int total_plays
    }

    GAME {
        uuid id PK
        string game_id
        uuid developer_id FK
        string title
        string genre
        timestamp created_at
        timestamp updated_at
        string version
        int play_count
        jsonb metadata
    }

    GAME_VERSION {
        uuid id PK
        uuid game_id FK
        string version
        timestamp created_at
        string change_type
        text description
        string backup_path
    }

    DEVELOPER ||--o{ GAME : owns
    GAME ||--o{ GAME_VERSION : has
```

**ê²Œì„ ë©”íƒ€ë°ì´í„°**:

```javascript
{
    game_id: "tilt-breaker-sensor-game",
    developer_id: "dev-uuid-123",
    title: "í‹¸íŠ¸ ë¸Œë ˆì´ì»¤",
    genre: "arcade",
    description: "ìŠ¤ë§ˆíŠ¸í°ì„ ê¸°ìš¸ì—¬ ë²½ëŒì„ ê¹¨ëŠ” ê²Œì„",
    created_at: "2025-10-08T15:30:00Z",
    updated_at: "2025-10-09T10:20:00Z",
    version: "v1.3",
    play_count: 145,
    bug_reports: 2,
    feature_requests: 1,
    metadata: {
        sensorType: "orientation",
        difficulty: "medium",
        tags: ["arcade", "physics", "casual"]
    }
}
```

### 2.3.3 ê°œë°œì ëŒ€ì‹œë³´ë“œ UI

```mermaid
graph TB
    A[ê°œë°œì ëŒ€ì‹œë³´ë“œ] --> B[ë‚´ ê²Œì„ ëª©ë¡]
    A --> C[í†µê³„ ë° ë¶„ì„]
    A --> D[ê³„ì • ì„¤ì •]

    B --> B1[ê²Œì„ ì¹´ë“œ]
    B1 --> B2[ğŸ® ê²Œì„ í”Œë ˆì´]
    B1 --> B3[ğŸ”§ ìœ ì§€ë³´ìˆ˜]
    B1 --> B4[ğŸ“Š í†µê³„]
    B1 --> B5[ğŸ’¾ ë‹¤ìš´ë¡œë“œ]
    B1 --> B6[ğŸ—‘ï¸ ì‚­ì œ]

    B3 --> M1[ë²„ê·¸ ì‹ ê³ ]
    B3 --> M2[ê¸°ëŠ¥ ì¶”ê°€]
    B3 --> M3[ë²„ì „ ì´ë ¥]

    C --> C1[ì´ í”Œë ˆì´ ìˆ˜]
    C --> C2[ì¸ê¸° ê²Œì„ ìˆœìœ„]
    C --> C3[ì¼ë³„ í†µê³„ ì°¨íŠ¸]

    style A fill:#3b82f6,color:#fff
    style B3 fill:#8b5cf6,color:#fff
    style M1 fill:#ef4444,color:#fff
    style M2 fill:#10b981,color:#fff
```

**ëŒ€ì‹œë³´ë“œ ì™€ì´ì–´í”„ë ˆì„**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ® Sensor Game Hub - ê°œë°œì ì„¼í„°                            â”‚
â”‚  ğŸ‘¤ ê²Œì„ í¬ë¦¬ì—ì´í„° (developer@example.com)  [ë¡œê·¸ì•„ì›ƒ]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  ğŸ“Š í†µê³„ ìš”ì•½                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ ì´ ê²Œì„  â”‚ ì´ í”Œë ˆì´ â”‚ ë²„ê·¸ ë¦¬í¬íŠ¸â”‚ ì´ë²ˆ ì£¼   â”‚              â”‚
â”‚  â”‚   15ê°œ   â”‚  2,340íšŒ  â”‚    3ê°œ    â”‚  +2 ê²Œì„  â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                               â”‚
â”‚  ğŸ¯ ë‚´ ê²Œì„ ëª©ë¡                               [+ ìƒˆ ê²Œì„ ìƒì„±]â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ® í‹¸íŠ¸ ë¸Œë ˆì´ì»¤                    v1.3  â­ 145 í”Œë ˆì´  â”‚ â”‚
â”‚  â”‚ ì•„ì¼€ì´ë“œ Â· ë¬¼ë¦¬ ê¸°ë°˜ Â· 2025-10-08                       â”‚ â”‚
â”‚  â”‚                                                          â”‚ â”‚
â”‚  â”‚ [ğŸ® í”Œë ˆì´] [ğŸ”§ ìœ ì§€ë³´ìˆ˜] [ğŸ“Š í†µê³„] [ğŸ’¾ ë‹¤ìš´ë¡œë“œ] [ğŸ—‘ï¸]   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸŒŒ ì¤‘ë ¥ ê³µ ê²Œì„                     v1.0  â­ 87 í”Œë ˆì´   â”‚ â”‚
â”‚  â”‚ í¼ì¦ Â· ì¤‘ë ¥ ê¸°ë°˜ Â· 2025-10-08                           â”‚ â”‚
â”‚  â”‚                                                          â”‚ â”‚
â”‚  â”‚ [ğŸ® í”Œë ˆì´] [ğŸ”§ ìœ ì§€ë³´ìˆ˜] [ğŸ“Š í†µê³„] [ğŸ’¾ ë‹¤ìš´ë¡œë“œ] [ğŸ—‘ï¸]   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3.4 ìœ ì§€ë³´ìˆ˜ ì›Œí¬í”Œë¡œìš°

#### ê°œë°œì ì¤‘ì‹¬ ìœ ì§€ë³´ìˆ˜ í”Œë¡œìš°

```mermaid
sequenceDiagram
    participant Dev as ê°œë°œì
    participant Dashboard as ëŒ€ì‹œë³´ë“œ
    participant MaintenanceAPI as Maintenance API
    participant AI as Claude Sonnet 4.5
    participant FileSystem as íŒŒì¼ ì‹œìŠ¤í…œ

    Dev->>Dashboard: "í‹¸íŠ¸ ë¸Œë ˆì´ì»¤" ê²Œì„ ì„ íƒ
    Dashboard->>Dev: ê²Œì„ ìƒì„¸ ì •ë³´ í‘œì‹œ

    Dev->>Dashboard: ğŸ”§ ìœ ì§€ë³´ìˆ˜ ë²„íŠ¼ í´ë¦­
    Dashboard->>Dev: ìœ ì§€ë³´ìˆ˜ ë©”ë‰´ í‘œì‹œ

    alt ë²„ê·¸ ì‹ ê³ 
        Dev->>Dashboard: ë²„ê·¸ ì„¤ëª… ì…ë ¥
        Dashboard->>MaintenanceAPI: POST /api/maintenance/report-bug
        MaintenanceAPI->>FileSystem: í˜„ì¬ ì½”ë“œ ì½ê¸°
        MaintenanceAPI->>AI: ë²„ê·¸ ë¶„ì„ ìš”ì²­
        AI->>MaintenanceAPI: ìˆ˜ì •ëœ ì½”ë“œ ë°˜í™˜
        MaintenanceAPI->>FileSystem: ë°±ì—… + ì½”ë“œ ì €ì¥
        MaintenanceAPI->>Dashboard: âœ… ìˆ˜ì • ì™„ë£Œ
        Dashboard->>Dev: ë²„ì „ v1.3 â†’ v1.4
    else ê¸°ëŠ¥ ì¶”ê°€
        Dev->>Dashboard: ê¸°ëŠ¥ ì„¤ëª… ì…ë ¥
        Dashboard->>MaintenanceAPI: POST /api/maintenance/add-feature
        MaintenanceAPI->>AI: ê¸°ëŠ¥ ì¶”ê°€ ìš”ì²­
        AI->>MaintenanceAPI: í™•ì¥ëœ ì½”ë“œ ë°˜í™˜
        MaintenanceAPI->>FileSystem: ë°±ì—… + ì½”ë“œ ì €ì¥
        MaintenanceAPI->>Dashboard: âœ… ê¸°ëŠ¥ ì¶”ê°€ ì™„ë£Œ
        Dashboard->>Dev: ë²„ì „ v1.3 â†’ v1.4
    end

    Dev->>Dashboard: ğŸ“Š ë²„ì „ ì´ë ¥ ì¡°íšŒ
    Dashboard->>Dev: v1.0 â†’ v1.1 â†’ v1.2 â†’ v1.3 â†’ v1.4
```

### 2.3.5 ê¶Œí•œ ê´€ë¦¬

**ê²Œì„ë³„ ê¶Œí•œ ì‹œìŠ¤í…œ**:

```mermaid
graph TB
    A[ê²Œì„ ì ‘ê·¼ ìš”ì²­] --> B{ì¸ì¦ëœ ì‚¬ìš©ì?}
    B -->|No| C[ìµëª… - í”Œë ˆì´ë§Œ ê°€ëŠ¥]
    B -->|Yes| D{ê²Œì„ ì†Œìœ ì?}

    D -->|No| E[ë‹¤ë¥¸ ê°œë°œì - í”Œë ˆì´ë§Œ ê°€ëŠ¥]
    D -->|Yes| F[ì†Œìœ ì - ì „ì²´ ê¶Œí•œ]

    F --> F1[âœ… í”Œë ˆì´]
    F --> F2[âœ… ìˆ˜ì •/ì‚­ì œ]
    F --> F3[âœ… ë²„ê·¸ ì‹ ê³  ì²˜ë¦¬]
    F --> F4[âœ… ê¸°ëŠ¥ ì¶”ê°€]
    F --> F5[âœ… ë²„ì „ ê´€ë¦¬]
    F --> F6[âœ… í†µê³„ ì¡°íšŒ]

    E --> E1[âœ… í”Œë ˆì´]
    E --> E2[âŒ ìˆ˜ì •/ì‚­ì œ]

    C --> C1[âœ… í”Œë ˆì´]
    C --> C2[âŒ ìœ ì§€ë³´ìˆ˜]

    style F fill:#10b981,color:#fff
    style E fill:#f59e0b,color:#fff
    style C fill:#ef4444,color:#fff
```

**ê¶Œí•œ ê²€ì¦ ë¯¸ë“¤ì›¨ì–´**:

```javascript
// ê²Œì„ ì†Œìœ ê¶Œ í™•ì¸ ë¯¸ë“¤ì›¨ì–´
async function verifyGameOwnership(req, res, next) {
    const { gameId } = req.params;
    const { userId } = req.session;

    // Supabaseì—ì„œ ê²Œì„ ì •ë³´ ì¡°íšŒ
    const { data: game } = await supabase
        .from('games')
        .select('developer_id')
        .eq('game_id', gameId)
        .single();

    if (!game) {
        return res.status(404).json({ error: 'ê²Œì„ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤' });
    }

    if (game.developer_id !== userId) {
        return res.status(403).json({
            error: 'ì´ ê²Œì„ì„ ìˆ˜ì •í•  ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤'
        });
    }

    next();
}

// API ë¼ìš°íŠ¸ì— ì ìš©
app.post('/api/maintenance/report-bug',
    authenticateUser,      // ë¡œê·¸ì¸ í™•ì¸
    verifyGameOwnership,   // ì†Œìœ ê¶Œ í™•ì¸
    handleBugReport        // ë²„ê·¸ ì²˜ë¦¬
);
```

### 2.3.6 í†µê³„ ë° ë¶„ì„

**ê°œë°œìë³„ ê²Œì„ í†µê³„**:

```mermaid
graph TB
    subgraph "ì‹¤ì‹œê°„ í†µê³„"
        A1[í”Œë ˆì´ ì¹´ìš´í„°]
        A2[í‰ê·  í”Œë ˆì´ ì‹œê°„]
        A3[ì™„ë£Œìœ¨]
    end

    subgraph "ë²„ê·¸ ì¶”ì "
        B1[ë²„ê·¸ ë¦¬í¬íŠ¸ ìˆ˜]
        B2[ìˆ˜ì • ì™„ë£Œìœ¨]
        B3[í‰ê·  ìˆ˜ì • ì‹œê°„]
    end

    subgraph "ì‚¬ìš©ì í”¼ë“œë°±"
        C1[í‰ì ]
        C2[ë¦¬ë·°]
        C3[ê³µìœ  íšŸìˆ˜]
    end

    D[ê°œë°œì ëŒ€ì‹œë³´ë“œ] --> A1
    D --> A2
    D --> A3
    D --> B1
    D --> B2
    D --> B3
    D --> C1
    D --> C2
    D --> C3

    style D fill:#3b82f6,color:#fff
    style A1 fill:#10b981,color:#fff
    style B1 fill:#f59e0b,color:#fff
    style C1 fill:#8b5cf6,color:#fff
```

**í†µê³„ ë°ì´í„° ì˜ˆì‹œ**:

```javascript
{
    developer_id: "dev-uuid-123",
    game_id: "tilt-breaker-sensor-game",
    statistics: {
        // í”Œë ˆì´ í†µê³„
        total_plays: 145,
        unique_players: 87,
        avg_play_time: 180,  // ì´ˆ
        completion_rate: 0.65,

        // ë²„ê·¸ í†µê³„
        total_bugs_reported: 5,
        bugs_fixed: 4,
        avg_fix_time: 120,  // ì´ˆ

        // ë²„ì „ íˆìŠ¤í† ë¦¬
        versions: [
            { version: "v1.0", date: "2025-10-08" },
            { version: "v1.1", date: "2025-10-08", type: "bug_fix" },
            { version: "v1.2", date: "2025-10-09", type: "feature" },
            { version: "v1.3", date: "2025-10-09", type: "bug_fix" }
        ],

        // ì¸ê¸°ë„ ì§€í‘œ
        trending_score: 8.5,
        daily_plays: [12, 15, 18, 22, 20, 18, 16]
    }
}
```

### 2.3.7 ê²Œì„ ê³µìœ  ë° ë°°í¬

```mermaid
graph TB
    A[ë‚´ ê²Œì„] --> B{ê³µê°œ ì„¤ì •}
    B -->|Private| C[ë³¸ì¸ë§Œ ì ‘ê·¼]
    B -->|Public| D[ëª¨ë‘ ì ‘ê·¼ ê°€ëŠ¥]

    D --> E[ê²Œì„ ê°¤ëŸ¬ë¦¬ ë“±ë¡]
    E --> F[ê³µìœ  URL ìƒì„±]
    F --> G[QR ì½”ë“œ ìƒì„±]

    G --> H1[ì†Œì…œ ë¯¸ë””ì–´ ê³µìœ ]
    G --> H2[ì„ë² ë“œ ì½”ë“œ ì œê³µ]
    G --> H3[ZIP ë‹¤ìš´ë¡œë“œ]

    style A fill:#3b82f6,color:#fff
    style D fill:#10b981,color:#fff
    style E fill:#8b5cf6,color:#fff
```

**ê³µìœ  ë§í¬ ì˜ˆì‹œ**:

```
https://sensorchatbot.onrender.com/games/tilt-breaker-sensor-game?creator=dev-123
```

**ì„ë² ë“œ ì½”ë“œ**:

```html
<iframe
    src="https://sensorchatbot.onrender.com/games/tilt-breaker-sensor-game"
    width="800"
    height="600"
    frameborder="0"
    allowfullscreen>
</iframe>
```

## 2.4 ì‹¤ì‹œê°„ í†µì‹  êµ¬ì¡°

### WebSocket ì´ë²¤íŠ¸ í”Œë¡œìš°

```mermaid
graph LR
    A[ì‚¬ìš©ì ì…ë ¥] -->|ìì—°ì–´| B[RequirementCollector]
    B -->|êµ¬ì¡°í™”| C[GameGenreClassifier]
    C -->|ì¥ë¥´ ë¶„ë¥˜| D[RAG System]

    D -->|Vector Search| E[(Supabase<br/>Vector DB)]
    E -->|Top-5 ë¬¸ì„œ| F[PromptBuilder]

    F -->|í”„ë¡¬í”„íŠ¸| G[Claude Sonnet 4.5]
    G -->|64K í† í°| H[GameValidator]

    H -->|í’ˆì§ˆ ê²€ì¦| I{95ì  ì´ìƒ?}
    I -->|Yes| J[FileSystem ì €ì¥]
    I -->|No| K{ì¬ì‹œë„ < 3?}
    K -->|Yes| F
    K -->|No| L[ìƒì„± ì‹¤íŒ¨]

    J --> M[GameScanner ë“±ë¡]
    M --> N[âœ… ê²Œì„ í”Œë ˆì´ ê°€ëŠ¥]

    style A fill:#3b82f6,color:#fff
    style G fill:#10b981,color:#fff
    style N fill:#10b981,color:#fff
    style L fill:#ef4444,color:#fff
```

### ê²Œì„ í”Œë ˆì´ ë°ì´í„° í”Œë¡œìš°

```mermaid
graph TB
    subgraph "ëª¨ë°”ì¼ (ì„¼ì„œ í´ë¼ì´ì–¸íŠ¸)"
        A1[DeviceMotion API]
        A2[DeviceOrientation API]
        A3[ì„¼ì„œ ë°ì´í„° ìˆ˜ì§‘ê¸°]
    end

    subgraph "WebSocket í†µì‹ "
        B1[50ms ì£¼ê¸° ì „ì†¡]
        B2[ì••ì¶• ë° ìµœì í™”]
    end

    subgraph "ì„œë²„ (SessionManager)"
        C1[ì„¸ì…˜ ê²€ì¦]
        C2[ë°ì´í„° ë¼ìš°íŒ…]
    end

    subgraph "PC (ê²Œì„ í™”ë©´)"
        D1[ì„¼ì„œ ë°ì´í„° ìˆ˜ì‹ ]
        D2[ê²Œì„ ë¡œì§ ì—…ë°ì´íŠ¸]
        D3[Canvas ë Œë”ë§]
    end

    A1 --> A3
    A2 --> A3
    A3 --> B1
    B1 --> B2
    B2 --> C1
    C1 --> C2
    C2 --> D1
    D1 --> D2
    D2 --> D3

    D3 -.->|ê²Œì„ ìƒíƒœ| C2
    C2 -.->|ì—­ë°©í–¥ ì „ì†¡| A3

    style A3 fill:#3b82f6,color:#fff
    style C2 fill:#8b5cf6,color:#fff
    style D3 fill:#10b981,color:#fff
```

---

# 3ë¶€. ê¸°ìˆ  ëª…ì„¸

## 3.1 AI ê²Œì„ ìƒì„± ì‹œìŠ¤í…œ

### 3.1.1 RAG (Retrieval-Augmented Generation) ì‹œìŠ¤í…œ

**ì•„í‚¤í…ì²˜**:

```mermaid
graph TB
    subgraph "1. ë¬¸ì„œ ì„ë² ë”© (ì‚¬ì „ ì¤€ë¹„)"
        A1[35ê°œ ë§ˆí¬ë‹¤ìš´ íŒŒì¼]
        A2[DocumentChunker]
        A3[OpenAI Embeddings API]
        A4[(Supabase<br/>game_knowledge<br/>400ê°œ ë²¡í„°)]
    end

    subgraph "2. ì‹¤ì‹œê°„ ê²€ìƒ‰ (ê²Œì„ ìƒì„± ì‹œ)"
        B1[ì‚¬ìš©ì ì¿¼ë¦¬]
        B2[Query Embedding]
        B3[Vector Similarity Search]
        B4[Top-5 ë¬¸ì„œ ë°˜í™˜]
    end

    subgraph "3. í”„ë¡¬í”„íŠ¸ ì¦ê°•"
        C1[ê²€ìƒ‰ëœ ë¬¸ì„œ]
        C2[ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸]
        C3[ì‚¬ìš©ì ìš”êµ¬ì‚¬í•­]
        C4[ìµœì¢… í”„ë¡¬í”„íŠ¸]
    end

    subgraph "4. ì½”ë“œ ìƒì„±"
        D1[Claude Sonnet 4.5]
        D2[64K í† í° ì¶œë ¥]
        D3[ì™„ì„±ëœ ê²Œì„ ì½”ë“œ]
    end

    A1 --> A2
    A2 --> A3
    A3 --> A4

    B1 --> B2
    B2 --> B3
    A4 --> B3
    B3 --> B4

    B4 --> C1
    C1 --> C4
    C2 --> C4
    C3 --> C4

    C4 --> D1
    D1 --> D2
    D2 --> D3

    style A4 fill:#f59e0b,color:#fff
    style B3 fill:#8b5cf6,color:#fff
    style D1 fill:#10b981,color:#fff
```

**Vector Search ì•Œê³ ë¦¬ì¦˜**:

```sql
-- Supabaseì—ì„œ ì‹¤í–‰ë˜ëŠ” ìœ ì‚¬ë„ ê²€ìƒ‰ ì¿¼ë¦¬
SELECT
    id,
    content,
    metadata,
    1 - (embedding <=> query_embedding) AS similarity
FROM game_knowledge
WHERE 1 - (embedding <=> query_embedding) > 0.7
ORDER BY similarity DESC
LIMIT 5;
```

**ì„ë² ë”© ìƒì„± í”„ë¡œì„¸ìŠ¤**:

```javascript
// ë¬¸ì„œ ì²­í‚¹ ì „ëµ
class DocumentChunker {
    chunkDocument(markdown, chunkSize = 500) {
        const sections = markdown.split(/\n#{1,3} /);  // í—¤ë” ê¸°ì¤€ ë¶„í• 
        const chunks = [];

        for (const section of sections) {
            if (section.length <= chunkSize) {
                chunks.push(section);
            } else {
                // ê¸´ ì„¹ì…˜ì€ ë¬¸ì¥ ë‹¨ìœ„ë¡œ ì¬ë¶„í• 
                const sentences = section.match(/[^.!?]+[.!?]+/g);
                let currentChunk = '';

                for (const sentence of sentences) {
                    if ((currentChunk + sentence).length > chunkSize) {
                        chunks.push(currentChunk);
                        currentChunk = sentence;
                    } else {
                        currentChunk += sentence;
                    }
                }
                chunks.push(currentChunk);
            }
        }

        return chunks;
    }
}
```

### 3.1.2 Claude Sonnet 4.5 í†µí•©

**ëª¨ë¸ ìŠ¤í™**:

| í•­ëª© | ì‚¬ì–‘ |
|------|------|
| **ëª¨ë¸ ID** | `claude-sonnet-4-5-20250929` |
| **ìµœëŒ€ ì…ë ¥ í† í°** | 200,000 í† í° |
| **ìµœëŒ€ ì¶œë ¥ í† í°** | 64,000 í† í° (8K â†’ 64K ì—…ê·¸ë ˆì´ë“œ) |
| **ì˜¨ë„** | 0.3 (ì¼ê´€ì„± ê°•í™”) |
| **ìš©ë„** | ê²Œì„ ì½”ë“œ ìƒì„±, ë²„ê·¸ ìˆ˜ì • |

**í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§**:

```javascript
const prompt = `ë‹¹ì‹ ì€ HTML5 Canvas ê²Œì„ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ë‹¤ìŒ ìš”êµ¬ì‚¬í•­ì— ë§ëŠ” ì™„ì„±ëœ ê²Œì„ì„ ìƒì„±í•˜ì„¸ìš”.

**ì‚¬ìš©ì ìš”êµ¬ì‚¬í•­:**
${userRequirements}

**ê²Œì„ ì¥ë¥´:** ${genre}
**ì„¼ì„œ íƒ€ì…:** ${sensorType} (${sensorCount}ê°œ)

**ì°¸ê³  ë¬¸ì„œ (RAG ê²€ìƒ‰ ê²°ê³¼):**
${ragDocuments.map((doc, i) => `
=== ë¬¸ì„œ ${i+1} ===
${doc.content}
`).join('\n')}

**í•„ìˆ˜ ìš”êµ¬ì‚¬í•­:**
1. SessionSDK í†µí•© (QR ì½”ë“œ ìƒì„± í¬í•¨)
2. ì„¼ì„œ ì—°ê²° ì‹œ ìë™ ê²Œì„ ì‹œì‘
3. ë ˆë²¨ ì „í™˜ ì‹œ ì„¼ì„œ ì…ë ¥ ìœ ì§€
4. UI ìš”ì†ŒëŠ” í™”ë©´ ëª¨ì„œë¦¬ ë°°ì¹˜ (ê²Œì„ í™”ë©´ ê°€ë¦¼ ë°©ì§€)
5. ì™„ì „í•œ HTML íŒŒì¼ (ì™¸ë¶€ ì˜ì¡´ì„± ì—†ìŒ)

**ì½”ë“œ í’ˆì§ˆ ê¸°ì¤€:**
- ìµœì†Œ í’ˆì§ˆ ì ìˆ˜: 95/100
- ì£¼ì„ í¬í•¨ (í•œêµ­ì–´)
- ì—ëŸ¬ ì²˜ë¦¬ ì™„ë¹„
- ë°˜ì‘í˜• ë””ìì¸

ì´ì œ ì™„ì„±ëœ ê²Œì„ HTML ì½”ë“œë¥¼ ìƒì„±í•˜ì„¸ìš” (64,000 í† í° í™œìš©):`;
```

**í’ˆì§ˆ ê²€ì¦ ì‹œìŠ¤í…œ**:

```mermaid
graph TB
    A[ìƒì„±ëœ ì½”ë“œ] --> B{ê²€ì¦ í•­ëª©}

    B --> C1[SessionSDK í†µí•© 20ì ]
    B --> C2[ì„¼ì„œ ë°ì´í„° ì²˜ë¦¬ 25ì ]
    B --> C3[ê²Œì„ ë£¨í”„ êµ¬í˜„ 20ì ]
    B --> C4[Canvas ë Œë”ë§ 15ì ]
    B --> C5[ê²Œì„ ìƒíƒœ ê´€ë¦¬ 10ì ]
    B --> C6[ì½”ë“œ í’ˆì§ˆ 10ì ]

    C1 --> D[ì´ì  ê³„ì‚°]
    C2 --> D
    C3 --> D
    C4 --> D
    C5 --> D
    C6 --> D

    D --> E{95ì  ì´ìƒ?}
    E -->|Yes| F[âœ… ê²€ì¦ í†µê³¼]
    E -->|No| G[ì¬ìƒì„± ìš”ì²­]

    style F fill:#10b981,color:#fff
    style G fill:#ef4444,color:#fff
```

### 3.1.3 5ë‹¨ê³„ ì‹¤ì‹œê°„ ì§„í–‰ë¥  ì‹œìŠ¤í…œ

**WebSocket ì´ë²¤íŠ¸ ë°œí–‰**:

```javascript
// InteractiveGameGenerator.js ë‚´ë¶€
async generateFinalGame(sessionId, requirements) {
    const startTime = Date.now();

    // Step 1: ì•„ì´ë””ì–´ ë¶„ì„ (0-20%)
    this.io.emit('game-generation-progress', {
        sessionId,
        step: 1,
        percentage: 10,
        message: 'ê²Œì„ ì•„ì´ë””ì–´ ë¶„ì„ ì¤‘...'
    });
    const genre = await this.classifyGenre(requirements);

    // Step 2: ë¬¸ì„œ ê²€ìƒ‰ (20-40%)
    this.io.emit('game-generation-progress', {
        sessionId,
        step: 2,
        percentage: 20,
        message: 'ê´€ë ¨ ë¬¸ì„œ ê²€ìƒ‰ ì¤‘... (Vector DB)'
    });
    const ragDocs = await this.vectorStore.similaritySearch(
        requirements.gameIdea,
        5  // Top-5
    );

    // Step 3: ì½”ë“œ ìƒì„± (40-80%)
    this.io.emit('game-generation-progress', {
        sessionId,
        step: 3,
        percentage: 50,
        message: 'Claude AIë¡œ ê²Œì„ ì½”ë“œ ìƒì„± ì¤‘...'
    });
    const gameCode = await this.claudeClient.generate({
        prompt: buildPrompt(requirements, ragDocs),
        maxTokens: 64000
    });

    // Step 4: ê²€ì¦ (80-90%)
    this.io.emit('game-generation-progress', {
        sessionId,
        step: 4,
        percentage: 80,
        message: 'ê²Œì„ ì½”ë“œ ê²€ì¦ ì¤‘...'
    });
    const validationScore = this.gameValidator.validate(gameCode);

    if (validationScore < 95) {
        throw new Error('í’ˆì§ˆ ê¸°ì¤€ ë¯¸ë‹¬');
    }

    // Step 5: ì €ì¥ (90-100%)
    this.io.emit('game-generation-progress', {
        sessionId,
        step: 5,
        percentage: 95,
        message: 'ê²Œì„ ì €ì¥ ì¤‘...'
    });
    await this.saveGame(gameCode, gameId);

    this.io.emit('game-generation-progress', {
        sessionId,
        step: 5,
        percentage: 100,
        message: 'âœ… ê²Œì„ ìƒì„± ì™„ë£Œ!',
        elapsedTime: Date.now() - startTime
    });
}
```

**í”„ë¡ íŠ¸ì—”ë“œ ì§„í–‰ë¥  í‘œì‹œ**:

```javascript
// í´ë¼ì´ì–¸íŠ¸ ì½”ë“œ (developer-center.html)
const socket = io();

socket.on('game-generation-progress', (data) => {
    const { step, percentage, message } = data;

    // ì§„í–‰ë¥  ë°” ì—…ë°ì´íŠ¸
    progressBar.style.width = percentage + '%';
    progressBar.textContent = percentage + '%';

    // ë‹¨ê³„ ì•„ì´ì½˜ ì—…ë°ì´íŠ¸
    updateStepIcon(step, percentage === 100 ? 'âœ…' : 'ğŸ”„');

    // ë©”ì‹œì§€ í‘œì‹œ
    statusMessage.textContent = message;

    // ì™„ë£Œ ì‹œ ê²°ê³¼ í‘œì‹œ
    if (percentage === 100) {
        showSuccessModal(data);
    }
});
```

## 3.2 ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„

### 3.2.1 Supabase Vector Store êµ¬ì¡°

**í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ**:

```mermaid
erDiagram
    GAME_KNOWLEDGE {
        uuid id PK
        text content
        jsonb metadata
        vector embedding
        timestamp created_at
    }

    GAME_KNOWLEDGE ||--o{ METADATA : contains

    METADATA {
        string source_file
        string section
        int chunk_index
        string doc_type
    }
```

**SQL DDL**:

```sql
CREATE TABLE game_knowledge (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    content TEXT NOT NULL,
    metadata JSONB,
    embedding VECTOR(1536),  -- OpenAI text-embedding-3-small ì°¨ì›
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- ë²¡í„° ìœ ì‚¬ë„ ê²€ìƒ‰ì„ ìœ„í•œ ì¸ë±ìŠ¤
CREATE INDEX ON game_knowledge
USING ivfflat (embedding vector_cosine_ops)
WITH (lists = 100);

-- ë©”íƒ€ë°ì´í„° ê²€ìƒ‰ì„ ìœ„í•œ GIN ì¸ë±ìŠ¤
CREATE INDEX ON game_knowledge USING gin (metadata);
```

**ë°ì´í„° í†µê³„**:

| í•­ëª© | ìˆ˜ëŸ‰ |
|------|------|
| **ì›ë³¸ ë¬¸ì„œ** | 35ê°œ (.md íŒŒì¼) |
| **ì´ ì²­í¬** | 400ê°œ |
| **í‰ê·  ì²­í¬ ê¸¸ì´** | 450ì |
| **ë²¡í„° ì°¨ì›** | 1536 |
| **ì´ DB í¬ê¸°** | ~5MB |

### 3.2.2 ê°œë°œì ê³„ì • ë°ì´í„°ë² ì´ìŠ¤

**ì „ì²´ ERD (ê°œë°œì ê³„ì • í¬í•¨)**:

```mermaid
erDiagram
    DEVELOPERS {
        uuid id PK
        string email UK
        string display_name
        string avatar_url
        timestamp created_at
        int total_games
        int total_plays
        boolean verified
        jsonb settings
    }

    GAMES {
        uuid id PK
        string game_id UK
        uuid developer_id FK
        string title
        string genre
        text description
        timestamp created_at
        timestamp updated_at
        string version
        int play_count
        int bug_reports
        int feature_requests
        boolean is_public
        jsonb metadata
        jsonb statistics
    }

    GAME_VERSIONS {
        uuid id PK
        uuid game_id FK
        string version
        timestamp created_at
        string change_type
        text description
        string backup_path
        int code_size
        jsonb changes
    }

    GAME_SESSIONS {
        uuid id PK
        uuid game_id FK
        uuid player_id
        timestamp started_at
        timestamp ended_at
        int duration
        int score
        boolean completed
        jsonb session_data
    }

    GAME_KNOWLEDGE {
        uuid id PK
        text content
        jsonb metadata
        vector embedding
        timestamp created_at
    }

    DEVELOPERS ||--o{ GAMES : creates
    GAMES ||--o{ GAME_VERSIONS : has
    GAMES ||--o{ GAME_SESSIONS : logs
    DEVELOPERS ||--o{ GAME_SESSIONS : plays
```

**SQL DDL (ê°œë°œì ê³„ì • í…Œì´ë¸”)**:

```sql
-- ê°œë°œì ê³„ì • í…Œì´ë¸”
CREATE TABLE developers (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    email VARCHAR(255) UNIQUE NOT NULL,
    display_name VARCHAR(100) NOT NULL,
    avatar_url TEXT,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    total_games INTEGER DEFAULT 0,
    total_plays INTEGER DEFAULT 0,
    verified BOOLEAN DEFAULT FALSE,
    settings JSONB DEFAULT '{}'::jsonb
);

-- ê²Œì„ ë©”íƒ€ë°ì´í„° í…Œì´ë¸”
CREATE TABLE games (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    game_id VARCHAR(255) UNIQUE NOT NULL,
    developer_id UUID NOT NULL REFERENCES developers(id) ON DELETE CASCADE,
    title VARCHAR(200) NOT NULL,
    genre VARCHAR(50),
    description TEXT,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    version VARCHAR(20) DEFAULT 'v1.0',
    play_count INTEGER DEFAULT 0,
    bug_reports INTEGER DEFAULT 0,
    feature_requests INTEGER DEFAULT 0,
    is_public BOOLEAN DEFAULT TRUE,
    metadata JSONB DEFAULT '{}'::jsonb,
    statistics JSONB DEFAULT '{}'::jsonb
);

-- ê²Œì„ ë²„ì „ ì´ë ¥ í…Œì´ë¸”
CREATE TABLE game_versions (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    game_id UUID NOT NULL REFERENCES games(id) ON DELETE CASCADE,
    version VARCHAR(20) NOT NULL,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    change_type VARCHAR(50),  -- 'initial', 'bug_fix', 'feature', 'optimization'
    description TEXT,
    backup_path TEXT,
    code_size INTEGER,
    changes JSONB DEFAULT '{}'::jsonb,
    UNIQUE(game_id, version)
);

-- ê²Œì„ í”Œë ˆì´ ì„¸ì…˜ ë¡œê·¸ í…Œì´ë¸”
CREATE TABLE game_sessions (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    game_id UUID NOT NULL REFERENCES games(id) ON DELETE CASCADE,
    player_id UUID REFERENCES developers(id) ON DELETE SET NULL,
    started_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    ended_at TIMESTAMP WITH TIME ZONE,
    duration INTEGER,  -- ì´ˆ ë‹¨ìœ„
    score INTEGER,
    completed BOOLEAN DEFAULT FALSE,
    session_data JSONB DEFAULT '{}'::jsonb
);

-- ì¸ë±ìŠ¤ ìƒì„±
CREATE INDEX idx_games_developer ON games(developer_id);
CREATE INDEX idx_games_created ON games(created_at DESC);
CREATE INDEX idx_games_play_count ON games(play_count DESC);
CREATE INDEX idx_game_versions_game ON game_versions(game_id);
CREATE INDEX idx_game_sessions_game ON game_sessions(game_id);
CREATE INDEX idx_game_sessions_player ON game_sessions(player_id);
CREATE INDEX idx_game_sessions_started ON game_sessions(started_at DESC);

-- ê²Œì„ ë©”íƒ€ë°ì´í„° ê²€ìƒ‰ì„ ìœ„í•œ GIN ì¸ë±ìŠ¤
CREATE INDEX idx_games_metadata ON games USING gin (metadata);
CREATE INDEX idx_games_statistics ON games USING gin (statistics);
```

**ìë™ ì—…ë°ì´íŠ¸ íŠ¸ë¦¬ê±°**:

```sql
-- ê²Œì„ ìˆ˜ì • ì‹œ updated_at ìë™ ì—…ë°ì´íŠ¸
CREATE OR REPLACE FUNCTION update_game_timestamp()
RETURNS TRIGGER AS $$
BEGIN
    NEW.updated_at = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER trigger_update_game_timestamp
BEFORE UPDATE ON games
FOR EACH ROW
EXECUTE FUNCTION update_game_timestamp();

-- ê²Œì„ ìƒì„± ì‹œ ê°œë°œì total_games ì¦ê°€
CREATE OR REPLACE FUNCTION increment_developer_games()
RETURNS TRIGGER AS $$
BEGIN
    UPDATE developers
    SET total_games = total_games + 1
    WHERE id = NEW.developer_id;
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER trigger_increment_developer_games
AFTER INSERT ON games
FOR EACH ROW
EXECUTE FUNCTION increment_developer_games();

-- ê²Œì„ í”Œë ˆì´ ì‹œ play_count ì¦ê°€
CREATE OR REPLACE FUNCTION increment_game_plays()
RETURNS TRIGGER AS $$
BEGIN
    UPDATE games
    SET play_count = play_count + 1
    WHERE id = NEW.game_id;

    UPDATE developers
    SET total_plays = total_plays + 1
    WHERE id = (SELECT developer_id FROM games WHERE id = NEW.game_id);

    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER trigger_increment_game_plays
AFTER INSERT ON game_sessions
FOR EACH ROW
EXECUTE FUNCTION increment_game_plays();
```

**Row Level Security (RLS) ì •ì±…**:

```sql
-- RLS í™œì„±í™”
ALTER TABLE developers ENABLE ROW LEVEL SECURITY;
ALTER TABLE games ENABLE ROW LEVEL SECURITY;
ALTER TABLE game_versions ENABLE ROW LEVEL SECURITY;
ALTER TABLE game_sessions ENABLE ROW LEVEL SECURITY;

-- ê°œë°œìëŠ” ìì‹ ì˜ ì •ë³´ë§Œ ìˆ˜ì • ê°€ëŠ¥
CREATE POLICY developers_own_data ON developers
FOR ALL
USING (auth.uid() = id);

-- ê²Œì„ ì†Œìœ ìë§Œ ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥, ê³µê°œ ê²Œì„ì€ ëª¨ë‘ ì½ê¸° ê°€ëŠ¥
CREATE POLICY games_owner_full_access ON games
FOR ALL
USING (auth.uid() = developer_id);

CREATE POLICY games_public_read ON games
FOR SELECT
USING (is_public = TRUE OR auth.uid() = developer_id);

-- ë²„ì „ ì´ë ¥ì€ ê²Œì„ ì†Œìœ ìë§Œ ì ‘ê·¼
CREATE POLICY versions_owner_only ON game_versions
FOR ALL
USING (
    auth.uid() = (
        SELECT developer_id FROM games WHERE id = game_id
    )
);

-- ì„¸ì…˜ ë¡œê·¸ëŠ” ë³¸ì¸ ë˜ëŠ” ê²Œì„ ì†Œìœ ìë§Œ ì¡°íšŒ
CREATE POLICY sessions_restricted_access ON game_sessions
FOR SELECT
USING (
    auth.uid() = player_id OR
    auth.uid() = (SELECT developer_id FROM games WHERE id = game_id)
);
```

### 3.2.3 ë©”ëª¨ë¦¬ ê¸°ë°˜ ì„¸ì…˜ ì €ì¥ì†Œ

**SessionManager ë‚´ë¶€ êµ¬ì¡°**:

```javascript
class SessionManager {
    constructor() {
        // ì„¸ì…˜ ì €ì¥ì†Œ (ë©”ëª¨ë¦¬)
        this.sessions = new Map();
        /*
        ì„¸ì…˜ ë°ì´í„° êµ¬ì¡°:
        {
            sessionCode: "1234",
            gameId: "tilt-maze",
            gameType: "solo",
            sensors: [
                {
                    sensorId: "sensor1",
                    socket: WebSocket,
                    lastData: {...},
                    connectedAt: 1696820400000
                }
            ],
            createdAt: 1696820400000,
            lastActivityAt: 1696820400000,
            isActive: true
        }
        */

        // ì„¼ì„œ ì—°ê²° ì €ì¥ì†Œ
        this.sensorConnections = new Map();
        /*
        {
            sensorId: "sensor1",
            sessionCode: "1234",
            socket: WebSocket
        }
        */
    }
}
```

**ìë™ ì •ë¦¬ ë©”ì»¤ë‹ˆì¦˜**:

```mermaid
graph TB
    A[ì„¸ì…˜ ìƒì„±] --> B{í™œë™ ê°ì§€}
    B -->|ì„¼ì„œ ë°ì´í„° ìˆ˜ì‹ | C[lastActivityAt ê°±ì‹ ]
    B -->|30ë¶„ ê²½ê³¼| D[ë¹„í™œì„± í”Œë˜ê·¸]

    C --> E{ê³„ì† í™œì„±?}
    E -->|Yes| B
    E -->|No| D

    D --> F[ì„¸ì…˜ ì‚­ì œ]
    F --> G[ì„¼ì„œ ì—°ê²° í•´ì œ]
    G --> H[WebSocket ì¢…ë£Œ]

    style A fill:#10b981,color:#fff
    style F fill:#ef4444,color:#fff
```

## 3.3 ì„¼ì„œ ì‹œìŠ¤í…œ

### 3.3.1 DeviceMotion & DeviceOrientation API

**ì§€ì› ì„¼ì„œ íƒ€ì…**:

| ì„¼ì„œ | API | ë°ì´í„° | ìš©ë„ |
|------|-----|--------|------|
| **ë°©í–¥** | DeviceOrientationEvent | alpha, beta, gamma | ê¸°ìš¸ê¸° ì¡°ì‘ |
| **ê°€ì†ë„** | DeviceMotionEvent | x, y, z | í”ë“¤ê¸°, ì†ë„ |
| **íšŒì „ ì†ë„** | DeviceMotionEvent | alpha, beta, gamma | ë¹ ë¥¸ íšŒì „ ê°ì§€ |

**ì„¼ì„œ ì´ˆê¸°í™” í”Œë¡œìš°**:

```mermaid
sequenceDiagram
    participant User as ì‚¬ìš©ì
    participant Browser as ëª¨ë°”ì¼ ë¸Œë¼ìš°ì €
    participant Sensor as ì„¼ì„œ í´ë¼ì´ì–¸íŠ¸
    participant API as DeviceMotion API

    User->>Sensor: QR ì½”ë“œ ìŠ¤ìº” í›„ ì ‘ì†
    Sensor->>Browser: requestPermission() ìš”ì²­
    Browser->>User: "ì„¼ì„œ ì ‘ê·¼ í—ˆìš©" íŒì—…
    User->>Browser: í—ˆìš© í´ë¦­

    Browser->>API: ì„¼ì„œ í™œì„±í™”
    API->>Sensor: 'deviceorientation' ì´ë²¤íŠ¸
    API->>Sensor: 'devicemotion' ì´ë²¤íŠ¸

    Sensor->>Sensor: 50ms íƒ€ì´ë¨¸ ì‹œì‘

    loop Every 50ms
        Sensor->>API: í˜„ì¬ ì„¼ì„œ ê°’ ì½ê¸°
        API->>Sensor: {orientation, acceleration, ...}
        Sensor->>Sensor: WebSocket ì „ì†¡
    end
```

**í¬ë¡œìŠ¤ í”Œë«í¼ í˜¸í™˜ì„±**:

```javascript
// iOS 13+ ê¶Œí•œ ìš”ì²­
async requestSensorPermission() {
    if (typeof DeviceOrientationEvent.requestPermission === 'function') {
        // iOS 13+
        const permission = await DeviceOrientationEvent.requestPermission();
        if (permission === 'granted') {
            this.startSensorCollection();
        }
    } else {
        // Android, iOS < 13
        this.startSensorCollection();
    }
}

// ì„¼ì„œ ë°ì´í„° ìˆ˜ì§‘
startSensorCollection() {
    // ë°©í–¥ ì„¼ì„œ
    window.addEventListener('deviceorientation', (event) => {
        this.latestOrientation = {
            alpha: event.alpha,  // 0-360
            beta: event.beta,    // -180~180
            gamma: event.gamma   // -90~90
        };
    });

    // ê°€ì†ë„ ì„¼ì„œ
    window.addEventListener('devicemotion', (event) => {
        this.latestAcceleration = event.acceleration;
        this.latestRotationRate = event.rotationRate;
    });

    // 50ms ì£¼ê¸°ë¡œ WebSocket ì „ì†¡
    setInterval(() => {
        this.sendSensorData({
            orientation: this.latestOrientation,
            acceleration: this.latestAcceleration,
            rotationRate: this.latestRotationRate,
            timestamp: Date.now()
        });
    }, 50);
}
```

### 3.3.2 ì„¼ì„œ ë°ì´í„° ìµœì í™”

**ì „ì†¡ ìµœì í™” ì „ëµ**:

```mermaid
graph TB
    A[ì„¼ì„œ ì´ë²¤íŠ¸ ë°œìƒ<br/>ìˆ˜ë°± Hz] --> B[ë°ì´í„° ìƒ˜í”Œë§<br/>50ms = 20Hz]
    B --> C{ê°’ ë³€í™” ê°ì§€}
    C -->|ë³€í™” ì—†ìŒ| D[ì „ì†¡ ìŠ¤í‚µ]
    C -->|ë³€í™” ìˆìŒ| E[ì†Œìˆ˜ì  ë°˜ì˜¬ë¦¼<br/>3ìë¦¬ê¹Œì§€]
    E --> F[JSON ì§ë ¬í™”]
    F --> G[WebSocket ì „ì†¡]

    style A fill:#ef4444,color:#fff
    style B fill:#f59e0b,color:#fff
    style G fill:#10b981,color:#fff
```

**ë°ì´í„° ì••ì¶•**:

```javascript
// ë¶ˆí•„ìš”í•œ ì •ë°€ë„ ì œê±°
function optimizeSensorData(raw) {
    return {
        orientation: {
            alpha: Math.round(raw.orientation.alpha * 10) / 10,  // ì†Œìˆ˜ì  1ìë¦¬
            beta: Math.round(raw.orientation.beta * 10) / 10,
            gamma: Math.round(raw.orientation.gamma * 10) / 10
        },
        acceleration: {
            x: Math.round(raw.acceleration.x * 100) / 100,  // ì†Œìˆ˜ì  2ìë¦¬
            y: Math.round(raw.acceleration.y * 100) / 100,
            z: Math.round(raw.acceleration.z * 100) / 100
        },
        timestamp: raw.timestamp
    };
}

// ë³€í™” ê°ì§€ (ë¸íƒ€ ì¸ì½”ë”©)
function shouldSend(current, previous) {
    const threshold = 0.5;  // 0.5ë„ ì´ìƒ ë³€í™” ì‹œ ì „ì†¡

    return (
        Math.abs(current.orientation.beta - previous.orientation.beta) > threshold ||
        Math.abs(current.orientation.gamma - previous.orientation.gamma) > threshold
    );
}
```

## 3.4 ê¸°ìˆ  ìŠ¤íƒ

### ì „ì²´ ê¸°ìˆ  ìŠ¤íƒ ë‹¤ì´ì–´ê·¸ë¨

```mermaid
graph TB
    subgraph "Frontend"
        F1[HTML5 + CSS3]
        F2[Vanilla JavaScript ES6+]
        F3[Canvas API]
        F4[WebSocket Client]
    end

    subgraph "Backend"
        B1[Node.js 16+]
        B2[Express 4.18]
        B3[Socket.IO 4.7]
        B4[Compression + CORS]
    end

    subgraph "AI Layer"
        A1[Anthropic Claude Sonnet 4.5]
        A2[OpenAI Embeddings API]
        A3[Langchain 0.3]
    end

    subgraph "Database"
        D1[Supabase PostgreSQL]
        D2[pgvector Extension]
    end

    subgraph "DevOps"
        O1[Git + GitHub]
        O2[npm Package Manager]
        O3[dotenv Config]
    end

    F1 --> B1
    F2 --> B2
    F3 --> B1
    F4 --> B3

    B2 --> A1
    B2 --> A2
    A2 --> D1
    D1 --> D2

    B1 --> O2
    B1 --> O3

    style A1 fill:#10b981,color:#fff
    style D1 fill:#f59e0b,color:#fff
```

### ì£¼ìš” ì˜ì¡´ì„± (package.json)

```json
{
  "dependencies": {
    "@anthropic-ai/sdk": "^0.30.1",
    "@langchain/anthropic": "^0.3.7",
    "@langchain/community": "^0.3.20",
    "@langchain/openai": "^0.3.16",
    "@supabase/supabase-js": "^2.58.0",
    "archiver": "^7.0.1",
    "compression": "^1.7.4",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "express": "^4.18.2",
    "helmet": "^7.0.0",
    "jsdom": "^26.1.0",
    "langchain": "^0.3.7",
    "marked": "^15.0.12",
    "openai": "^4.71.1",
    "socket.io": "^4.7.2"
  }
}
```

### í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

```bash
# .env íŒŒì¼
CLAUDE_API_KEY=sk-ant-api...
OPENAI_API_KEY=sk-proj...
SUPABASE_URL=https://xxx.supabase.co
SUPABASE_ANON_KEY=eyJhbGc...
PORT=3000
```

---

# 4ë¶€. ì£¼ìš” ê¸°ëŠ¥ ìƒì„¸

## 4.1 ê²Œì„ ìƒì„± í”Œë¡œìš°

### ì „ì²´ í”„ë¡œì„¸ìŠ¤

```mermaid
graph TB
    Start([ì‚¬ìš©ì ì ‘ì†]) --> A[Developer Center]
    A --> B[AI ê²Œì„ ìƒì„±ê¸° íƒ­]
    B --> C{ëŒ€í™” ë‹¨ê³„}

    C -->|Step 1| D1[ê²Œì„ ì•„ì´ë””ì–´ ì…ë ¥]
    D1 --> D2[AI: ì¥ë¥´ ì¶”ì²œ]

    C -->|Step 2| E1[ì¥ë¥´/í…Œë§ˆ ì„ íƒ]
    E1 --> E2[AI: ì„¼ì„œ ì¡°ì‘ ë°©ì‹ ì œì•ˆ]

    C -->|Step 3| F1[ì„¼ì„œ ì¡°ì‘ í™•ì •]
    F1 --> F2[AI: ìµœì¢… ìš”êµ¬ì‚¬í•­ ìš”ì•½]

    C -->|Step 4| G[ğŸš€ ê²Œì„ ìƒì„± ì‹œì‘ ë²„íŠ¼]

    G --> H[5ë‹¨ê³„ ìƒì„± í”„ë¡œì„¸ìŠ¤]

    H --> I1[1ï¸âƒ£ ì•„ì´ë””ì–´ ë¶„ì„ 20%]
    I1 --> I2[2ï¸âƒ£ RAG ë¬¸ì„œ ê²€ìƒ‰ 40%]
    I2 --> I3[3ï¸âƒ£ Claude ì½”ë“œ ìƒì„± 80%]
    I3 --> I4[4ï¸âƒ£ í’ˆì§ˆ ê²€ì¦ 90%]
    I4 --> I5{95ì  ì´ìƒ?}

    I5 -->|No| J[ì¬ìƒì„± 3íšŒê¹Œì§€]
    J --> I3
    I5 -->|Yes| K[5ï¸âƒ£ íŒŒì¼ ì €ì¥ 100%]

    K --> L[âœ… ìƒì„± ì™„ë£Œ ëª¨ë‹¬]
    L --> M{ì‚¬ìš©ì ì„ íƒ}
    M -->|ë°”ë¡œ í”Œë ˆì´| N[ê²Œì„ í™”ë©´ ì´ë™]
    M -->|ë‹¤ìš´ë¡œë“œ| O[ZIP íŒŒì¼ ë‹¤ìš´ë¡œë“œ]

    N --> End([ê²Œì„ í”Œë ˆì´])
    O --> End

    style G fill:#10b981,color:#fff
    style L fill:#10b981,color:#fff
```

### ëŒ€í™”í˜• ìš”êµ¬ì‚¬í•­ ìˆ˜ì§‘

**4ë‹¨ê³„ ëŒ€í™” ì‹œìŠ¤í…œ**:

```mermaid
stateDiagram-v2
    [*] --> Initial
    Initial --> Details: ì‚¬ìš©ì ì•„ì´ë””ì–´ ì…ë ¥
    Details --> Mechanics: ì¥ë¥´/í…Œë§ˆ ê²°ì •
    Mechanics --> Confirmation: ì„¼ì„œ ì¡°ì‘ ë°©ì‹ ì •ì˜
    Confirmation --> [*]: ìš”êµ¬ì‚¬í•­ í™•ì •

    state Initial {
        [*] --> Waiting
        Waiting --> Analyzing: ì…ë ¥ ì™„ë£Œ
        Analyzing --> [*]: AI ì‘ë‹µ
    }

    state Details {
        [*] --> GenreSelection
        GenreSelection --> ThemeSelection
        ThemeSelection --> [*]
    }

    state Mechanics {
        [*] --> SensorTypeSelection
        SensorTypeSelection --> ControlMapping
        ControlMapping --> [*]
    }

    state Confirmation {
        [*] --> Summary
        Summary --> UserApproval
        UserApproval --> [*]
    }
```

**ì‹¤ì œ ëŒ€í™” ì˜ˆì‹œ**:

| ë‹¨ê³„ | AI ì§ˆë¬¸ | ì‚¬ìš©ì ì‘ë‹µ ì˜ˆì‹œ |
|------|---------|------------------|
| **Initial** | "ì–´ë–¤ ê²Œì„ì„ ë§Œë“¤ê³  ì‹¶ìœ¼ì‹ ê°€ìš”?" | "ìŠ¤ë§ˆíŠ¸í°ì„ ê¸°ìš¸ì—¬ì„œ ê³µì„ êµ´ë¦¬ëŠ” ê²Œì„" |
| **Details** | "ì¥ë¥´ëŠ” **ì•„ì¼€ì´ë“œ** ë˜ëŠ” **í¼ì¦** ì¤‘ ì–´ë–¤ ê±¸ ì›í•˜ì„¸ìš”?" | "ì•„ì¼€ì´ë“œ" |
| **Mechanics** | "ì„¼ì„œ ì¡°ì‘ì€ **ê¸°ìš¸ê¸°**ë§Œ ì“¸ê¹Œìš”, **í”ë“¤ê¸°**ë„ ì¶”ê°€í• ê¹Œìš”?" | "ê¸°ìš¸ê¸°ë§Œ" |
| **Confirmation** | "ìš”ì•½: ì•„ì¼€ì´ë“œ ì¥ë¥´, ê¸°ìš¸ê¸° ì¡°ì‘, ê³µ êµ´ë¦¬ê¸° ê²Œì„. ë§ë‚˜ìš”?" | "ë„¤, ìƒì„±í•´ì£¼ì„¸ìš”!" |

### ì½”ë“œ ìƒì„± ì•Œê³ ë¦¬ì¦˜

**í…œí”Œë¦¿ ê¸°ë°˜ ìƒì„± (ë‹¨ìˆœ ê²Œì„)**:

```mermaid
graph LR
    A[ì‚¬ìš©ì ìš”êµ¬ì‚¬í•­] --> B{ë³µì¡ë„ ë¶„ì„}
    B -->|ë‹¨ìˆœ| C[í…œí”Œë¦¿ ì„ íƒ]
    C --> D[ë³€ìˆ˜ ì¹˜í™˜]
    D --> E[ì™„ì„±ëœ ì½”ë“œ]

    B -->|ë³µì¡| F[Claude API í˜¸ì¶œ]
    F --> G[RAG ë¬¸ì„œ ê²€ìƒ‰]
    G --> H[í”„ë¡¬í”„íŠ¸ êµ¬ì„±]
    H --> I[64K í† í° ìƒì„±]
    I --> E

    style C fill:#10b981,color:#fff
    style F fill:#8b5cf6,color:#fff
```

**í’ˆì§ˆ ë³´ì¦ ë©”ì»¤ë‹ˆì¦˜**:

```javascript
class GameValidator {
    validate(gameCode) {
        let score = 0;
        const checks = [
            {
                name: 'SessionSDK í†µí•©',
                pattern: /<script src=".*\/SessionSDK\.js"><\/script>/,
                points: 20
            },
            {
                name: 'ì„¼ì„œ ë°ì´í„° ì²˜ë¦¬',
                pattern: /sdk\.on\(['"]sensor-data['"]/,
                points: 25
            },
            {
                name: 'ê²Œì„ ë£¨í”„ (update)',
                pattern: /function update\(/,
                points: 20
            },
            {
                name: 'Canvas ë Œë”ë§',
                pattern: /ctx\.(fillRect|drawImage|arc)/,
                points: 15
            },
            {
                name: 'ê²Œì„ ìƒíƒœ ê´€ë¦¬',
                pattern: /(gameState|isPlaying|score)/,
                points: 10
            },
            {
                name: 'ì½”ë“œ í’ˆì§ˆ (ì£¼ì„)',
                pattern: /\/\/ .+|\/\*.+\*\//,
                points: 10
            }
        ];

        for (const check of checks) {
            if (check.pattern.test(gameCode)) {
                score += check.points;
                console.log(`âœ… ${check.name}: ${check.points}ì `);
            } else {
                console.log(`âŒ ${check.name}: 0ì `);
            }
        }

        return score;
    }
}
```

## 4.2 ê²Œì„ í”Œë ˆì´ í”Œë¡œìš°

### ì‚¬ìš©ì í”Œë¡œìš° (PC + ëª¨ë°”ì¼)

```mermaid
sequenceDiagram
    actor User as ì‚¬ìš©ì (PC)
    participant Game as ê²Œì„ í™”ë©´
    participant Server as ì„œë²„
    actor Mobile as ì‚¬ìš©ì (ëª¨ë°”ì¼)

    User->>Game: ê²Œì„ ì ‘ì†
    Game->>Server: create-session
    Server->>Game: session-created (ì½”ë“œ: 1234)
    Game->>Game: QR ì½”ë“œ í‘œì‹œ

    Mobile->>Mobile: QR ì½”ë“œ ìŠ¤ìº”
    Mobile->>Server: connect-sensor (1234)
    Server->>Game: sensor-connected âœ…
    Server->>Mobile: sensor-connected âœ…

    Mobile->>Mobile: ì„¼ì„œ ê¶Œí•œ í—ˆìš©
    Mobile->>Server: sensor-data (50ms ì£¼ê¸°)
    Server->>Game: sensor-data

    Game->>Game: update() - ê³µ ìœ„ì¹˜ ê³„ì‚°
    Game->>Game: render() - í™”ë©´ ê·¸ë¦¬ê¸°

    Note over Game: ëª©í‘œë¬¼ ìˆ˜ì§‘!
    Game->>Server: game-state-update (ì ìˆ˜+)
    Server->>Mobile: ì ìˆ˜ í‘œì‹œ

    Note over Game: ê²Œì„ ì˜¤ë²„
    Game->>Server: game-over (ìµœì¢… ì ìˆ˜)
    Server->>Mobile: game-over (ê²°ê³¼ í™”ë©´)
```

### ê²Œì„ íƒ€ì…ë³„ ì°¨ì´ì 

```mermaid
graph TB
    A[ê²Œì„ íƒ€ì…] --> B[Solo 1ê°œ ì„¼ì„œ]
    A --> C[Dual 2ê°œ ì„¼ì„œ]
    A --> D[Multi 10ê°œ ì„¼ì„œ]

    B --> B1[ë‹¨ì¼ í”Œë ˆì´ì–´]
    B --> B2[ì ìˆ˜ ê²½ìŸ]
    B --> B3[ë¬´ì œí•œ ì‹œê°„]

    C --> C1[í˜‘ë ¥ í”Œë ˆì´]
    C --> C2[ê³µë™ ëª©í‘œ]
    C --> C3[ì„¼ì„œë³„ ì—­í• ]

    D --> D1[ê²½ìŸ í”Œë ˆì´]
    D --> D2[ì‹¤ì‹œê°„ ìˆœìœ„]
    D --> D3[3ë¶„ ì œí•œ]

    style B fill:#3b82f6,color:#fff
    style C fill:#8b5cf6,color:#fff
    style D fill:#10b981,color:#fff
```

**ì„¸ì…˜ ê´€ë¦¬ ì°¨ì´**:

| ê²Œì„ íƒ€ì… | ì„¼ì„œ ìˆ˜ | ì„¸ì…˜ ì½”ë“œ | ëŒ€ê¸° ë¡œì§ |
|-----------|---------|-----------|-----------|
| **Solo** | 1ê°œ | 4ìë¦¬ | ì¦‰ì‹œ ì‹œì‘ |
| **Dual** | 2ê°œ | 4ìë¦¬ | 2ê°œ ì—°ê²° ëŒ€ê¸° |
| **Multi** | 1-10ê°œ | 4ìë¦¬ | ìµœì†Œ 2ê°œ í•„ìš” |

## 4.3 ìœ ì§€ë³´ìˆ˜ ì‹œìŠ¤í…œ

### ë²„ê·¸ ë¦¬í¬íŠ¸ ì²˜ë¦¬ í”Œë¡œìš°

```mermaid
graph TB
    Start([ë²„ê·¸ ë°œê²¬]) --> A[ê²Œì„ ê´€ë¦¬ í˜ì´ì§€]
    A --> B[ğŸ› ë²„ê·¸ ì‹ ê³  ë²„íŠ¼]
    B --> C[ë²„ê·¸ ì„¤ëª… ì…ë ¥]
    C --> D[POST /api/maintenance/report-bug]

    D --> E{ì„¸ì…˜ ì¡´ì¬?}
    E -->|No| F[ê¸°ì¡´ ê²Œì„ì—ì„œ ì„¸ì…˜ ìƒì„±]
    E -->|Yes| G[ì„¸ì…˜ ë¡œë“œ]
    F --> G

    G --> H[í˜„ì¬ ì½”ë“œ ì½ê¸°]
    H --> I[Claude API: ë²„ê·¸ ë¶„ì„]
    I --> J[ìˆ˜ì • ì½”ë“œ ìƒì„± 64K]

    J --> K{ê²€ì¦ í†µê³¼?}
    K -->|No| L{ì¬ì‹œë„ < 3?}
    L -->|Yes| I
    L -->|No| M[âŒ ìˆ˜ì • ì‹¤íŒ¨ ì‘ë‹µ]

    K -->|Yes| N[ë°±ì—… ìƒì„±]
    N --> O[index.html ë®ì–´ì“°ê¸°]
    O --> P[ë²„ì „ ì¦ê°€ v1.0 â†’ v1.1]
    P --> Q[ìˆ˜ì • ì´ë ¥ ê¸°ë¡]
    Q --> R[âœ… ìˆ˜ì • ì™„ë£Œ ì‘ë‹µ]

    R --> S[ì‚¬ìš©ìì—ê²Œ ì•Œë¦¼]
    S --> End([ê²Œì„ ì¬ì‹¤í–‰])

    style B fill:#ef4444,color:#fff
    style R fill:#10b981,color:#fff
```

### ê¸°ëŠ¥ ì¶”ê°€ í”Œë¡œìš°

```mermaid
sequenceDiagram
    participant User as ì‚¬ìš©ì
    participant UI as ê²Œì„ ê´€ë¦¬ UI
    participant API as Maintenance API
    participant AI as Claude Sonnet 4.5
    participant FS as File System

    User->>UI: â• ê¸°ëŠ¥ ì¶”ê°€ ë²„íŠ¼
    UI->>User: ì¶”ê°€í•  ê¸°ëŠ¥ ì„¤ëª… ì…ë ¥
    User->>UI: "íŒŒì›Œì—… ì•„ì´í…œ ì¶”ê°€"

    UI->>API: POST /api/maintenance/add-feature
    API->>FS: í˜„ì¬ ì½”ë“œ ì½ê¸°
    FS->>API: index.html (50KB)

    API->>AI: í”„ë¡¬í”„íŠ¸ ì „ì†¡
    Note over AI: ê¸°ì¡´ ì½”ë“œ ë¶„ì„<br/>íŒŒì›Œì—… ì•„ì´í…œ ë¡œì§ ì¶”ê°€<br/>UI ìš”ì†Œ ì¶”ê°€
    AI->>API: ìˆ˜ì •ëœ ì½”ë“œ (64K í† í°)

    API->>API: ì½”ë“œ ê²€ì¦
    API->>FS: ë°±ì—… ìƒì„±
    API->>FS: index.html ë®ì–´ì“°ê¸°
    API->>API: ë²„ì „ v1.1 â†’ v1.2

    API->>UI: âœ… ê¸°ëŠ¥ ì¶”ê°€ ì™„ë£Œ
    UI->>User: ì„±ê³µ ë©”ì‹œì§€ + ë³€ê²½ ì‚¬í•­ ìš”ì•½
```

### ìˆ˜ì • ì´ë ¥ ê´€ë¦¬

**ë°ì´í„° êµ¬ì¡°**:

```javascript
// GameMaintenanceManager ë‚´ë¶€
{
    gameId: "tilt-maze",
    modifications: [
        {
            type: "bug_fix",
            description: "ê³µì´ íŒ¨ë“¤ì—ì„œ ë–¨ì–´ì§€ì§€ ì•ŠëŠ” ë²„ê·¸",
            version: "v1.1",
            timestamp: 1696820400000,
            changedFiles: ["index.html"],
            backupPath: "tilt-maze/backups/1696820400000_index.html"
        },
        {
            type: "feature_addition",
            description: "íŒŒì›Œì—… ì•„ì´í…œ ì¶”ê°€",
            version: "v1.2",
            timestamp: 1696820700000,
            changedFiles: ["index.html"],
            backupPath: "tilt-maze/backups/1696820700000_index.html"
        }
    ]
}
```

**ë²„ì „ ê´€ë¦¬ ì „ëµ**:

```mermaid
graph LR
    A[v1.0 ì´ˆê¸° ìƒì„±] --> B[v1.1 ë²„ê·¸ ìˆ˜ì •]
    B --> C[v1.2 ê¸°ëŠ¥ ì¶”ê°€]
    C --> D[v1.3 ë²„ê·¸ ìˆ˜ì •]

    A -.->|ë°±ì—…| A1[backup/xxx_v1.0.html]
    B -.->|ë°±ì—…| B1[backup/xxx_v1.1.html]
    C -.->|ë°±ì—…| C1[backup/xxx_v1.2.html]

    style A fill:#3b82f6,color:#fff
    style B fill:#f59e0b,color:#fff
    style C fill:#10b981,color:#fff
```

---

# 5ë¶€. êµ¬í˜„ ë° ì„±ê³¼

## 5.1 ê°œë°œ í™˜ê²½

### ë¡œì»¬ ê°œë°œ í™˜ê²½

```bash
# ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­
Node.js: >= 16.0.0
npm: >= 7.0.0
OS: macOS, Windows, Linux

# ì„¤ì¹˜ ë° ì‹¤í–‰
git clone https://github.com/your-repo/sensorchatbot.git
cd sensorchatbot
npm install
npm start

# ì ‘ì† URL
http://localhost:3000          # ëœë”© í˜ì´ì§€
http://localhost:3000/developer # ê°œë°œì ì„¼í„°
http://localhost:3000/sensor.html # ì„¼ì„œ í´ë¼ì´ì–¸íŠ¸
```

### ê°œë°œ ë„êµ¬ ë° ì›Œí¬í”Œë¡œìš°

```mermaid
graph LR
    A[ì½”ë“œ ì‘ì„±] --> B[Git Commit]
    B --> C[ë¡œì»¬ í…ŒìŠ¤íŠ¸]
    C --> D{í…ŒìŠ¤íŠ¸ í†µê³¼?}
    D -->|No| A
    D -->|Yes| E[Git Push]
    E --> F[ì„œë²„ ì¬ì‹œì‘]
    F --> G[í”„ë¡œë•ì…˜ ë°°í¬]

    style C fill:#f59e0b,color:#fff
    style G fill:#10b981,color:#fff
```

## 5.2 í”„ë¡œì íŠ¸ êµ¬ì¡°

### ë””ë ‰í† ë¦¬ êµ¬ì¡° (ìƒì„¸)

```
sensorchatbot/
â”œâ”€â”€ server/                             # ë°±ì—”ë“œ ì½”ë“œ (19,872 ë¼ì¸)
â”‚   â”œâ”€â”€ index.js                        # ë©”ì¸ ì„œë²„ (755ì¤„)
â”‚   â”œâ”€â”€ SessionManager.js               # ì„¸ì…˜ ê´€ë¦¬
â”‚   â”œâ”€â”€ InteractiveGameGenerator.js     # AI ê²Œì„ ìƒì„± (1,400ì¤„)
â”‚   â”œâ”€â”€ GameMaintenanceManager.js       # ìœ ì§€ë³´ìˆ˜ (429ì¤„)
â”‚   â”œâ”€â”€ DocumentEmbedder.js             # RAG ì„ë² ë”©
â”‚   â”œâ”€â”€ GameValidator.js                # ì½”ë“œ ê²€ì¦
â”‚   â”‚
â”‚   â”œâ”€â”€ routes/                         # HTTP ë¼ìš°íŠ¸
â”‚   â”‚   â”œâ”€â”€ landingRoutes.js            # ëœë”© í˜ì´ì§€ (2,000ì¤„)
â”‚   â”‚   â”œâ”€â”€ developerRoutes.js          # ê°œë°œì ì„¼í„° (2,300ì¤„)
â”‚   â”‚   â””â”€â”€ gameRoutes.js               # ê²Œì„ ë¼ìš°íŠ¸
â”‚   â”‚
â”‚   â”œâ”€â”€ generators/                     # ë©€í‹° ìŠ¤í…Œì´ì§€ ìƒì„±ê¸°
â”‚   â”‚   â”œâ”€â”€ StructureGenerator.js       # HTML ë¼ˆëŒ€ ìƒì„±
â”‚   â”‚   â”œâ”€â”€ GameLogicGenerator.js       # ë¡œì§ ìƒì„±
â”‚   â”‚   â””â”€â”€ IntegrationGenerator.js     # í†µí•©
â”‚   â”‚
â”‚   â”œâ”€â”€ services/                       # ì„œë¹„ìŠ¤ ë ˆì´ì–´
â”‚   â”‚   â”œâ”€â”€ DocumentChunker.js          # ë¬¸ì„œ ì²­í‚¹
â”‚   â”‚   â”œâ”€â”€ EmbeddingGenerator.js       # ì„ë² ë”© ìƒì„±
â”‚   â”‚   â””â”€â”€ VectorEmbeddingService.js   # ë²¡í„° ê²€ìƒ‰
â”‚   â”‚
â”‚   â””â”€â”€ monitoring/                     # ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ
â”‚       â”œâ”€â”€ PerformanceMonitor.js       # ì„±ëŠ¥ ì¶”ì 
â”‚       â””â”€â”€ LiveErrorMonitor.js         # ì—ëŸ¬ ì¶”ì 
â”‚
â”œâ”€â”€ public/                             # í”„ë¡ íŠ¸ì—”ë“œ
â”‚   â”œâ”€â”€ games/                          # ìƒì„±ëœ ê²Œì„ë“¤
â”‚   â”‚   â”œâ”€â”€ solo/                       # ì†”ë¡œ ê²Œì„
â”‚   â”‚   â”œâ”€â”€ dual/                       # ë“€ì–¼ ê²Œì„
â”‚   â”‚   â”œâ”€â”€ multi/                      # ë©€í‹° ê²Œì„
â”‚   â”‚   â”œâ”€â”€ tilt-breaker-sensor-game/   # AI ìƒì„± ê²Œì„ ì˜ˆì‹œ
â”‚   â”‚   â””â”€â”€ gravity-ball-sensor-game/   # AI ìƒì„± ê²Œì„ ì˜ˆì‹œ
â”‚   â”‚
â”‚   â”œâ”€â”€ js/
â”‚   â”‚   â””â”€â”€ SessionSDK.js               # í†µí•© SDK (QR, ì„¼ì„œ)
â”‚   â”‚
â”‚   â”œâ”€â”€ sensor.html                     # ì„¼ì„œ í´ë¼ì´ì–¸íŠ¸ (1,000ì¤„)
â”‚   â””â”€â”€ ai-game-generator.html          # AI ìƒì„±ê¸° UI
â”‚
â”œâ”€â”€ docs/                               # ë¬¸ì„œ
â”‚   â”œâ”€â”€ PERFECT_GAME_DEVELOPMENT_GUIDE.md
â”‚   â”œâ”€â”€ SENSOR_GAME_TROUBLESHOOTING.md
â”‚   â”œâ”€â”€ game-types/                     # ê²Œì„ íƒ€ì…ë³„ ê°€ì´ë“œ
â”‚   â”‚   â”œâ”€â”€ solo-game-guide.md
â”‚   â”‚   â”œâ”€â”€ dual-game-guide.md
â”‚   â”‚   â””â”€â”€ multi-game-guide.md
â”‚   â””â”€â”€ advanced/                       # ê³ ê¸‰ ì£¼ì œ
â”‚       â”œâ”€â”€ audio-system.md
â”‚       â”œâ”€â”€ 3d-graphics.md
â”‚       â””â”€â”€ pwa-implementation.md
â”‚
â”œâ”€â”€ package.json                        # ì˜ì¡´ì„± (15ê°œ íŒ¨í‚¤ì§€)
â”œâ”€â”€ .env                                # í™˜ê²½ ë³€ìˆ˜
â””â”€â”€ README.md                           # í”„ë¡œì íŠ¸ ê°œìš”
```

### í•µì‹¬ íŒŒì¼ ì—­í• 

```mermaid
graph TB
    subgraph "Entry Point"
        A[server/index.js]
    end

    subgraph "Core Systems"
        B[InteractiveGameGenerator]
        C[SessionManager]
        D[GameMaintenanceManager]
    end

    subgraph "Routes"
        E[landingRoutes]
        F[developerRoutes]
    end

    subgraph "Frontend"
        G[SessionSDK.js]
        H[sensor.html]
    end

    A --> B
    A --> C
    A --> D
    A --> E
    A --> F

    E --> G
    F --> B
    F --> D

    G --> H

    style A fill:#ef4444,color:#fff
    style B fill:#8b5cf6,color:#fff
    style G fill:#3b82f6,color:#fff
```

## 5.3 ì„±ëŠ¥ ì§€í‘œ

### ê²Œì„ ìƒì„± ì„±ëŠ¥

```mermaid
graph LR
    subgraph "ìƒì„± ì‹œê°„ ë¶„í¬"
        A[20ì´ˆ ë¯¸ë§Œ<br/>10%]
        B[20-40ì´ˆ<br/>60%]
        C[40-60ì´ˆ<br/>25%]
        D[60ì´ˆ ì´ìƒ<br/>5%]
    end

    style A fill:#10b981,color:#fff
    style B fill:#3b82f6,color:#fff
    style C fill:#f59e0b,color:#fff
    style D fill:#ef4444,color:#fff
```

| ì§€í‘œ | ê°’ |
|------|-----|
| **í‰ê·  ìƒì„± ì‹œê°„** | 38ì´ˆ |
| **ìµœì†Œ ìƒì„± ì‹œê°„** | 18ì´ˆ |
| **ìµœëŒ€ ìƒì„± ì‹œê°„** | 85ì´ˆ |
| **ìƒì„± ì„±ê³µë¥ ** | 92% |
| **í‰ê·  í’ˆì§ˆ ì ìˆ˜** | 87/100 |

### ì‹¤ì‹œê°„ í†µì‹  ì„±ëŠ¥

```mermaid
graph TB
    A[ì„¼ì„œ ë°ì´í„° ì „ì†¡] -->|50ms ì£¼ê¸°| B[WebSocket]
    B -->|5-10ms ì§€ì—°| C[ì„œë²„ ë¼ìš°íŒ…]
    C -->|5-10ms ì§€ì—°| D[ê²Œì„ í™”ë©´ ìˆ˜ì‹ ]
    D -->|16ms update| E[Canvas ë Œë”ë§]

    F[ì´ ì§€ì—°ì‹œê°„: 26-42ms] --> G[60 FPS ìœ ì§€ ê°€ëŠ¥]

    style A fill:#3b82f6,color:#fff
    style E fill:#10b981,color:#fff
    style G fill:#10b981,color:#fff
```

| ì§€í‘œ | ê°’ |
|------|-----|
| **ì„¼ì„œ ì „ì†¡ ì£¼ê¸°** | 50ms (20Hz) |
| **WebSocket ì§€ì—°** | 5-10ms |
| **ì„œë²„ ì²˜ë¦¬ ì‹œê°„** | 2-5ms |
| **ì´ ì™•ë³µ ì§€ì—°** | 26-42ms |
| **í”„ë ˆì„ë ˆì´íŠ¸** | 60 FPS |

### ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©

```mermaid
pie title "ì„œë²„ ë©”ëª¨ë¦¬ ì‚¬ìš© (100MB ê¸°ì¤€)"
    "Node.js ëŸ°íƒ€ì„" : 30
    "í™œì„± ì„¸ì…˜ ë°ì´í„°" : 20
    "WebSocket ì—°ê²°" : 15
    "ìºì‹œ ë° ë²„í¼" : 25
    "ì—¬ìœ  ë©”ëª¨ë¦¬" : 10
```

| ë¦¬ì†ŒìŠ¤ | ì‚¬ìš©ëŸ‰ |
|--------|--------|
| **ë©”ëª¨ë¦¬** | ~100MB |
| **CPU (ìœ íœ´)** | 2-5% |
| **CPU (ìƒì„± ì¤‘)** | 30-50% |
| **ë””ìŠ¤í¬ (ê²Œì„ ì €ì¥)** | ~500KB/ê²Œì„ |
| **ë„¤íŠ¸ì›Œí¬ (ì„¼ì„œ)** | 5-10KB/s |

### í™•ì¥ì„± ë¶„ì„

```mermaid
graph TB
    A[ë™ì‹œ ì ‘ì†ì] --> B{ì„¸ì…˜ ìˆ˜}
    B -->|1-10 ì„¸ì…˜| C[ë‹¨ì¼ ì„œë²„ ì¶©ë¶„<br/>CPU 10%]
    B -->|10-50 ì„¸ì…˜| D[ë‹¨ì¼ ì„œë²„ ì ì •<br/>CPU 40%]
    B -->|50-100 ì„¸ì…˜| E[ë¡œë“œ ë°¸ëŸ°ì‹± ê¶Œì¥<br/>CPU 80%]
    B -->|100+ ì„¸ì…˜| F[ë©€í‹° ì„œë²„ í•„ìˆ˜<br/>Redis ì„¸ì…˜ ê³µìœ ]

    style C fill:#10b981,color:#fff
    style D fill:#3b82f6,color:#fff
    style E fill:#f59e0b,color:#fff
    style F fill:#ef4444,color:#fff
```

## 5.4 í–¥í›„ ê³„íš

### ë‹¨ê¸° ê³„íš (3ê°œì›”)

```mermaid
gantt
    title ë‹¨ê¸° ê°œë°œ ë¡œë“œë§µ
    dateFormat YYYY-MM-DD
    section ê¸°ëŠ¥ ì¶”ê°€
    ê²Œì„ ê²°ê³¼ ì €ì¥ ì‹œìŠ¤í…œ      :2025-01-01, 30d
    ì‚¬ìš©ì ë­í‚¹ ì‹œìŠ¤í…œ          :2025-01-15, 30d
    PWA ì§€ì›                   :2025-02-01, 30d
    section ê°œì„ 
    UI/UX ê°œì„                  :2025-01-01, 60d
    ì„±ëŠ¥ ìµœì í™”                :2025-02-01, 30d
```

### ì¤‘ê¸° ê³„íš (6-12ê°œì›”)

1. **ëª¨ë°”ì¼ ì•± ê°œë°œ**
   - React Native ê¸°ë°˜
   - ë„¤ì´í‹°ë¸Œ ì„¼ì„œ ì§ì ‘ ì ‘ê·¼
   - ì˜¤í”„ë¼ì¸ ëª¨ë“œ ì§€ì›

2. **AI ëª¨ë¸ ì—…ê·¸ë ˆì´ë“œ**
   - Claude Opus 4.1 í†µí•© (ë” ë³µì¡í•œ ê²Œì„)
   - ë©€í‹°ëª¨ë‹¬ ì…ë ¥ (ì´ë¯¸ì§€ â†’ ê²Œì„)
   - ìŒì„± ëª…ë ¹ ì§€ì›

3. **ê²Œì„ ë§ˆì¼“í”Œë ˆì´ìŠ¤**
   - ì‚¬ìš©ìê°€ ë§Œë“  ê²Œì„ ê³µìœ 
   - í‰ì  ë° ë¦¬ë·° ì‹œìŠ¤í…œ
   - ìˆ˜ìµ ë¶„ë°° ëª¨ë¸

### ì¥ê¸° ë¹„ì „ (1-2ë…„)

```mermaid
graph TB
    A[Sensor Game Hub] --> B[êµìœ¡ í”Œë«í¼]
    A --> C[ì—”í„°í”„ë¼ì´ì¦ˆ ì†”ë£¨ì…˜]
    A --> D[ê²Œì„ ê°œë°œ ë„êµ¬]

    B --> B1[ì½”ë”© êµìœ¡ ê³¼ì •]
    B --> B2[ê²Œì„ ë””ìì¸ ìˆ˜ì—…]

    C --> C1[ê¸°ì—… êµìœ¡ ê²Œì„]
    C --> C2[íŒ€ ë¹Œë”© ê²Œì„]

    D --> D1[Unity í”ŒëŸ¬ê·¸ì¸]
    D --> D2[Unreal Engine ì—°ë™]

    style A fill:#3b82f6,color:#fff
    style B fill:#10b981,color:#fff
    style C fill:#f59e0b,color:#fff
    style D fill:#8b5cf6,color:#fff
```

---

# ğŸ“Š ë¶€ë¡

## A. API ë ˆí¼ëŸ°ìŠ¤

### HTTP ì—”ë“œí¬ì¸íŠ¸

| ë©”ì†Œë“œ | ê²½ë¡œ | ì„¤ëª… |
|--------|------|------|
| GET | `/` | ëœë”© í˜ì´ì§€ |
| GET | `/developer` | ê°œë°œì ì„¼í„° |
| GET | `/games/:gameId` | íŠ¹ì • ê²Œì„ ì‹¤í–‰ |
| GET | `/api/games` | ê²Œì„ ëª©ë¡ ì¡°íšŒ |
| POST | `/api/start-game-session` | AI ê²Œì„ ìƒì„± ì„¸ì…˜ ì‹œì‘ |
| POST | `/api/game-chat` | AIì™€ ëŒ€í™” (ìš”êµ¬ì‚¬í•­ ìˆ˜ì§‘) |
| POST | `/api/finalize-game` | ê²Œì„ ìƒì„± ì‹¤í–‰ |
| POST | `/api/maintenance/report-bug` | ë²„ê·¸ ì‹ ê³  |
| POST | `/api/maintenance/add-feature` | ê¸°ëŠ¥ ì¶”ê°€ ìš”ì²­ |
| GET | `/api/maintenance/session/:gameId` | ì„¸ì…˜ ì •ë³´ ì¡°íšŒ |
| GET | `/api/maintenance/history/:gameId` | ìˆ˜ì • ì´ë ¥ ì¡°íšŒ |

### WebSocket ì´ë²¤íŠ¸

**í´ë¼ì´ì–¸íŠ¸ â†’ ì„œë²„**:

| ì´ë²¤íŠ¸ | í˜ì´ë¡œë“œ | ì„¤ëª… |
|--------|----------|------|
| `create-session` | `{gameId, gameType}` | ê²Œì„ ì„¸ì…˜ ìƒì„± |
| `connect-sensor` | `{sessionCode, sensorId}` | ì„¼ì„œ ì—°ê²° |
| `sensor-data` | `{sensorId, data, timestamp}` | ì„¼ì„œ ë°ì´í„° ì „ì†¡ |
| `disconnect` | - | ì—°ê²° ì¢…ë£Œ |

**ì„œë²„ â†’ í´ë¼ì´ì–¸íŠ¸**:

| ì´ë²¤íŠ¸ | í˜ì´ë¡œë“œ | ì„¤ëª… |
|--------|----------|------|
| `session-created` | `{sessionCode, qrUrl}` | ì„¸ì…˜ ìƒì„± ì™„ë£Œ |
| `sensor-connected` | `{sensorId}` | ì„¼ì„œ ì—°ê²° ì™„ë£Œ |
| `sensor-data` | `{sensorId, data}` | ì„¼ì„œ ë°ì´í„° ë¸Œë¡œë“œìºìŠ¤íŠ¸ |
| `game-generation-progress` | `{step, percentage, message}` | ìƒì„± ì§„í–‰ë¥  |
| `game-over` | `{score, stats}` | ê²Œì„ ì¢…ë£Œ |

## B. í™˜ê²½ ë³€ìˆ˜

```bash
# Claude API
CLAUDE_API_KEY=sk-ant-api...           # Anthropic API í‚¤

# OpenAI API
OPENAI_API_KEY=sk-proj...              # OpenAI Embeddings í‚¤

# Supabase
SUPABASE_URL=https://xxx.supabase.co   # Supabase í”„ë¡œì íŠ¸ URL
SUPABASE_ANON_KEY=eyJhbGc...            # Supabase Anonymous í‚¤

# ì„œë²„ ì„¤ì •
PORT=3000                               # ì„œë²„ í¬íŠ¸ (ê¸°ë³¸: 3000)
NODE_ENV=development                    # í™˜ê²½ (development/production)
```

## C. íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ìì£¼ ë°œìƒí•˜ëŠ” ë¬¸ì œ

| ë¬¸ì œ | ì›ì¸ | í•´ê²° ë°©ë²• |
|------|------|-----------|
| **ì„¼ì„œ ì—°ê²° ì•ˆ ë¨** | iOS 13+ ê¶Œí•œ ë¯¸í—ˆìš© | requestPermission() í˜¸ì¶œ |
| **QR ì½”ë“œ ìƒì„± ì‹¤íŒ¨** | ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë“œ ì˜¤ë¥˜ | ì™¸ë¶€ API í´ë°± ì‚¬ìš© |
| **ê²Œì„ ìƒì„± ì‹¤íŒ¨** | Claude API í‚¤ ì—†ìŒ | .env íŒŒì¼ í™•ì¸ |
| **Vector Search ì˜¤ë¥˜** | Supabase ì—°ê²° ì‹¤íŒ¨ | í™˜ê²½ ë³€ìˆ˜ í™•ì¸ |
| **WebSocket ëŠê¹€** | ë„¤íŠ¸ì›Œí¬ ë¶ˆì•ˆì • | ìë™ ì¬ì—°ê²° í™œì„±í™” |

---

## ğŸ“Œ ê²°ë¡ 

**Sensor Game Hub v6.0**ì€ AI ê¸°ìˆ ì„ í™œìš©í•˜ì—¬ **ê²Œì„ ê°œë°œì˜ ë¯¼ì£¼í™”**ë¥¼ ì‹¤í˜„í•œ í˜ì‹ ì ì¸ í”Œë«í¼ì…ë‹ˆë‹¤.

### ì£¼ìš” ì„±ê³¼

âœ… **ìì—°ì–´ â†’ ê²Œì„ ì½”ë“œ** 30-60ì´ˆ ìƒì„±
âœ… **RAG ì‹œìŠ¤í…œ** 400ê°œ ë¬¸ì„œ ê²€ìƒ‰ìœ¼ë¡œ í’ˆì§ˆ ë³´ì¥
âœ… **Claude Sonnet 4.5** 64K í† í° ì™„ì „ í™œìš©
âœ… **ì‹¤ì‹œê°„ í”Œë ˆì´** WebSocket ê¸°ë°˜ 50ms ì„¼ì„œ í†µì‹ 
âœ… **AI ìœ ì§€ë³´ìˆ˜** ë²„ê·¸ ìë™ ìˆ˜ì • ë° ê¸°ëŠ¥ ì¶”ê°€

### ê¸°ìˆ ì  í˜ì‹ 

- **ë©€í‹° ìŠ¤í…Œì´ì§€ ìƒì„±**: ë‹¨ê³„ë³„ ê²€ì¦ìœ¼ë¡œ í’ˆì§ˆ í–¥ìƒ
- **ì‹¤ì‹œê°„ ì§„í–‰ë¥  íŠ¸ë˜í‚¹**: 5ë‹¨ê³„ WebSocket ì´ë²¤íŠ¸
- **ì¦ë¶„ ìœ ì§€ë³´ìˆ˜**: ì „ì²´ ì¬ìƒì„± ì—†ì´ ë¶€ë¶„ ìˆ˜ì •
- **í¬ë¡œìŠ¤ í”Œë«í¼**: iOS/Android ì„¼ì„œ í†µì¼ ì²˜ë¦¬

### ë¹„ì¦ˆë‹ˆìŠ¤ ê°€ì¹˜

- **êµìœ¡ ì‹œì¥**: ì½”ë”© êµìœ¡, ê²Œì„ ë””ìì¸ ìˆ˜ì—…
- **B2B ì†”ë£¨ì…˜**: ê¸°ì—… êµìœ¡ ê²Œì„, íŒ€ ë¹Œë”©
- **ê°œë°œì ë„êµ¬**: ë¹ ë¥¸ í”„ë¡œí† íƒ€ì´í•‘, ì•„ì´ë””ì–´ ê²€ì¦

---

**ë¬¸ì„œ ì‘ì„±ì¼**: 2025ë…„ 10ì›” 9ì¼
**ë²„ì „**: 1.0
**ì‘ì„±ì**: Sensor Game Hub Team
**ë¼ì´ì„ ìŠ¤**: MIT
